Content Discovery
=================

.. module:: SearchMetadata

.. contents::

Searching for content is a functionality that is primarily supported by
Coordinating Nodes, programmatically through the CN_read.search method, and
through a web browser interface that connects through a UI to a SOLR_ index.

This document describes the properties of the SOLR index, how it is populated,
and how it can be used to support programmatic search and introspection into the
DataONE holdings.

The SOLR index is currently populated from content that is stored on
Coordinating Nodes which includes System Metadata, Science Metadata and Resource
Maps. The basic model is that each index entry represents information about the
information referenced by a single identifier (PID). For PIDs that refer to
science data object, the index entry will be constructed from system metadata
and zero or more resource maps that reference the object. If the PID refers to a
science metadata object, the index entry will have fields populated with content
extracted from the science metadata document.


Properties of the Index Derived From System Metadata
----------------------------------------------------

Descriptions of the SOLR fields available and the content that provides the
field values.

**Table 1.** Elements derived from System Metadata and available for all
objects. "Multi" fields may be populated with more than a single value per
document (PID) indexed.

.. list-table::
   :widths: 3 2 1 10
   :header-rows: 1

   * - Attribute
     - Type
     - Multi?
     - Content Origin
   * - :attr:`pid`
     - string, unique
     - No
     - :attr:`SystemMetadata.identifier`
   * - :attr:`fmtid`
     - string
     - No
     - :attr:`SystemMetadata.fmtid`
   * - isMetadata
     - boolean
     - No
     - :attr:`SystemMetadata.fmtid`, object format registry
   * - isData
     - boolean
     - No
     - True if the object is flagged as data. **Note: there's currently no way to know this.**
   * - isResourceMap
     - boolean
     - No
     - True if the :attr:`SystemMetadata.fmtid` starts with "http://www.openarchives.org/ore/"
   * - :attr:`size`
     - long
     - No
     - :attr:`SystemMetadata.size`
   * - :attr:`checksum`
     - string
     - No
     - :attr:`SystemMetadata.checksum`
   * - :attr:`checksumAlgorithm`
     - string
     - No
     - :attr:`SystemMetadata.algorithm`
   * - :attr:`submitter`
     - string
     - No
     - :attr:`SystemMetadata.submitter`
   * - :attr:`rightsHolder`
     - string
     - No
     - :attr:`SystemMetadata.rightsHolder`
   * - :attr:`rep_allowed`
     - boolean
     - No
     - :attr:`SystemMetadata.replicationPolicy` replicationAllowed attribute
   * - :attr:`n_replicas`
     - integer
     - No
     - :attr:`SystemMetadata.replicationPolicy` numberReplicas attribute
   * - :attr:`pref_rep_mn`
     - string
     - Yes
     - :attr:`SystemMetadata.replicationPolicy` preferredMemberNode
   * - :attr:`blocked_rep_mn`
     - string
     - Yes
     - :attr:`SystemMetadata.replicationPolicy` blockedMemberNode
   * - :attr:`obsoletes`
     - string
     - No
     - :attr:`SystemMetadata.obsoletes`
   * - :attr:`obsoletedBy`
     - string
     - No
     - :attr:`SystemMetadata.obsoletedBy`
   * - :attr:`dateUploaded`
     - date
     - No
     - :attr:`SystemMetadata.dateUploaded`
   * - :attr:`datemodified`
     - date
     - No
     - :attr:`SystemMetadata.dateSysMetadataModified`
   * - :attr:`origin_mn`
     - string
     - No
     - :attr:`SystemMetadata.originMemberNode`
   * - :attr:`auth_mn`
     - string
     - No
     - :attr:`SystemMetadata.authoritativeMemberNode`
   * - :attr:`replica_mn`
     - string
     - Yes
     - :attr:`SystemMetadata.replica`, replica/replicationMemberNode element
   * - :attr:`readPermission`
     - string
     - Yes
     - List of subjects (groups and individuals) that have read permission on
       PID, value retrieved from :attr:`SystemMetadata.accessPolicy`.
   * - :attr:`writePermission`
     - string
     - Yes
     - List of subjects (groups and individuals) that have write permission on
       PID, value retrieved from :attr:`SystemMetadata.accessPolicy`.
   * - :attr:`executePermission`
     - string
     - Yes
     - List of subjects (groups and individuals) that have execute permission on
       PID, value retrieved from :attr:`SystemMetadata.accessPolicy`.
   * - :attr:`changePermission`
     - string
     - Yes
     - List of subjects (groups and individuals) that have change permission on
       PID, value retrieved from :attr:`SystemMetadata.accessPolicy`.
   * - :attr:`isPublic`
     - boolean
     - No
     - Set to True if the DataONE :term:`public user` is present in the list of
       subjects with readPermission on PID.
   * - :attr:`resourceMaps`
     - string
     - Yes
     - List of resource map PIDs that reference this PID.
   * - :attr:`contains`
     - string
     - Yes
     - A list of all objects (PIDs) referenced by a resource map. Only populated
       if the current object is a resource map.
   * - :attr:`documents`
     - string
     - Yes
     - Lists all PIDs that this object describes. Obtained by parsing all
       resource maps in which this object is referenced. Not set for data or
       resource map objects.
   * - :attr:`isDocumentedBy`
     - string
     - Yes
     - Lists all PIDs that describe this object. Obtained by parsing all
       resource maps in which this object is referenced.


Populating Permission Fields
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This process is fairly straight forward, and requires simply de-duping entries
so that each of the permission fields contains a distinct list of subjects
granted that permission. If the DataONE :term:`public user` is present in the
read permissions, then the *isPublic* field is set to True.


Populating Object Relation Fields
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The fields *resourceMaps*, *contains*, *documents*, and *isDocumentedBy* contain
identifiers of other objects in the DataONE system related to the subject of
the current record. These relationships are recorded in OAI-ORE resource map
documents as described in the section :doc:`DataPackage`. Since the values for
these fields are contained in resource maps, it is necessary to build these
fields in progression as additional resource maps are synchronized with the
coordinating nodes.

For each object, a query is issued against the index to retrieve the list of
resource maps in which the object identifier is present, enabling population of
the *resourceMaps* field for the object. Each of those resource maps is examined
to obtain the list of identifiers for the *documents* field if the object is
science metadata, and the *isDocumentedBy* field if the object is data.

**Example Sequence for Index Population**

The following sequence steps through the generation of index entries for three
data packages, providing an example of how the index entries are updated
depending on relationships between the objects being added.


Adding Package 1
................

  .. graphviz::
                            
         digraph RM1 {        
         graph [rankdir="LR", label="Package 1"];
         A [shape=folder];    
         B [shape=note];      
         C [shape=oval];      
         A -> B;              
         A -> C;              
       }                      

A simple data package with a Resource Map *A* indicating that the metadata
document *B* and the data object *C* together form a data package, and that
*B* documents *C* and that *C* isDocumentedBy *B*.

Index entries after Package 1 is added.

  .. list-table::
     :header-rows: 1
     :widths: 1 3 3 3 3
   
     * - PID
       - resourceMaps
       - contains
       - documents
       - isDocumentedBy
     * - A
       - 
       - B, C
       -
       -
     * - B
       - A
       -
       - C
       -
     * - C
       - A
       -
       -
       - B


Adding Package 2
................

  .. graphviz::

         digraph RM1 {
         graph [rankdir="LR", label="Package 2"];
         D [shape=folder];
         B [shape=note];
         E [shape=oval];
         D -> B;
         D -> E;
       }

A simple data package with a Resource Map *D* indicating that the metadata
document *B* and the data object *E* together form a data package, and that
*B* documents *E* and that *E* isDocumentedBy *B*. Note that the metadata
document *B* is also used in Package 1.

Index entries after package 2 is added. New entries and changes to existing
are indicated in **bold**.

  .. list-table::
     :header-rows: 1
     :widths: 1 3 3 3 3
   
     * - PID
       - resourceMaps
       - contains
       - documents
       - isDocumentedBy
     * - A
       - 
       - B, C
       -
       -
     * - B
       - A, **D**
       -
       - C, **E**
       -
     * - C
       - A
       -
       -
       - B
     * - D
       - 
       - **B, E**
       -
       - 
     * - E
       - **D**
       -
       -
       - **B**


Adding Package 3
................

  .. graphviz::

         digraph RM1 {
         graph [rankdir="LR", label="Package 3"];
         F [shape=folder];
         G [shape=note];
         D [shape=folder];
         F -> G;
         F -> D;
       }

A data package that references another, already indexed data package
(represented by the Resource Map *D*) as its data object.

Index entries after package 3 is added. New entries and changes to existing
are indicated in **bold**.

  .. list-table::
     :header-rows: 1
     :widths: 1 3 3 3 3
   
     * - PID
       - resourceMaps
       - contains
       - documents
       - isDocumentedBy
     * - A
       - 
       - B, C
       -
       -
     * - B
       - A, D
       -
       - C, E
       -
     * - C
       - A
       -
       -
       - B
     * - D
       - **F**
       - B, E
       -
       - **G**
     * - E
       - D
       -
       -
       - B
     * - F
       - 
       - **D, G**
       -
       - 
     * - G
       - **F**
       -
       - **D**
       - 


Limitations of Multi-Valued Fields in SOLR
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Multi-valued fields in SOLR have an internal representation that can be
likened to a delimited concatenation of all the values for the field. The
fields have a configurable limit to the maximum field size, and this limit may
be encountered in the various entries such as the permission fields or object
relation fields where a potentially large number of subjects or identifiers
may be stored. Further research has indicated this problem is unlikely since
simply increasing the SOLR *maxFieldLength* configuration value will enable
larger field content, with examples in the wild of several thousand entries
equivalent to DataONE identifiers in a single field.


.. _Mercury: http://mercury.ornl.gov/

.. _OAI-ORE: http://www.openarchives.org/ore/


Values Extracted from Science Metadata
--------------------------------------

Indexing the system metadata entries provides a mechanism for selection of
content using low level attributes of the objects such as the type, size and
relationships, however is not useful for locating content relevant to a
particular topic or purpose. The :term:`science metadata` contains such
information and the index records associated with these documents contain
additional information described below.

The initial web user interface to DataONE utilizes the Mercury_ system. This
in turn relies upon a SOLR index to support the search, faceting, and
sub-setting operations that are exposed through Mercury. The underlying SOLR
index is also exposed through as an API, so other clients (such as the file
system driver) can leverage the search capabilities thus provided.

The remainder of this document describes the search properties that are
extracted from the various formats and syntaxes of of science metadata that
are supported by the DataONE indexing system.


.. list-table::
   :header-rows: 1
   :widths: 3 2 1 1 10

   * - Attribute
     - Type
     - Multi?
     - In UI?
     - V-0.6.3?
   * - :attr:`abstract`
     - text
     - No
     - Yes
     - Y
   * - :attr:`author`
     - string
     - No
     - Yes
     - Y
   * - :attr:`author_lname`
     - string
     - Yes
     - Yes
     - Y
   * - :attr:`keywords`
     - string
     - Yes
     - Yes
     - Y
   * - :attr:`keyConcept`
     - string
     - Yes
     -
     - N
   * - :attr:`southBoundCoord`
     - float
     - No
     - Yes
     - Y, Minimum bounding box latitude in degrees, WGS84
   * - :attr:`northBoundCoord`
     - float
     - No
     - yes
     - Y, Maximum bounding box latitude in degrees, WGS84
   * - :attr:`westBoundCoord`
     - float
     - No
     - Yes
     - Y, Minimum bounding box longitude in degrees, WGS84
   * - :attr:`eastBoundCoord`
     - float
     - No
     - Yes
     - Y, Maximum bounding box longitude in degrees, WGS84
   * - :attr:`namedLocation`
     - string
     - Yes
     - Yes
     - N
   * - :attr:`beginDate`
     - date
     - No
     - Yes
     - Y
   * - :attr:`endDate`
     - date
     - No
     - Yes
     - Y
   * - :attr:`text`
     - text
     - No
     - Yes
     - Y
   * - :attr:`title`
     - String
     - No
     - Yes
     - Y
   * - :attr:`variableName`
     - string
     - Yes
     - Yes
     - N
   * - :attr:`scientificName`
     - string
     - Yes
     - Yes
     - N
   * - :attr:`relatedOrganizations`
     - string
     - Yes
     - No
     - N
   * - :attr:`datePublished`
     - date
     - No
     - Yes
     - N





Attribute Descriptions and Notes
--------------------------------


.. attribute:: abstract

  :FGDC: //metadata/idinfo/descript/abstract/
  :EML:  //dataset/abstract
  :Dryad:


.. attribute:: author

  (String) Principle Investigator (PI) / Author

  For search, advantages to keep simple text representation, with general goal
  of gradual increase in specificity - Desireable if we can get "sort friendly"
  results such as using LAST, FIRST name.

  :FGDC:
  :EML: //dataset/creator/individualName
  :Dryad:


.. attribute:: author_lname

   (String) Last (family) name of the Author

   :FGDC:
   :EML: //dataset/creator/individualName/surName
   :Dryad:


.. attribute:: keywords

  (String) Keyword (uncontrolled keywords)

  - Initial values are extracted directly from the science metadata document
  - Mercury enhances the kw list with e.g. GCMD keyword list
  - Mercury UI

  :FGDC: //metadata/mercury/Keywords
  :EML: //dataset/keywordSet/keyword
  :Dryad:


.. attribute:: keyConcept

  Key concept -key concepts drawn from a set of ontologies Term Namespace

  - Controlled lists of terms available for several metadata standards
  - A topic being addressed by the semantics WG
  - Unlikely to be available in 2011
  - Giri has some keyword enhancement and mapping script (magic)
  - Mercury UI

  :FGDC:
  :EML:
  :Dryad:


.. attribute:: title

   The title given to the data set.
   
   :FGDC: //metadata/idinfo/citation/citeinfo/title
   :EML: //dataset/title
   :Dryad: 

.. attribute:: southBoundCoord

   see :attr:`spatialFeature`

   :FGDC: //metadata/idinfo/spdom/bounding/southbc
   :EML: //dataset/coverage/geographicCoverage/boundingCoordinates/southBoundingCoordinate
   :Dryad:


.. attribute:: northBoundCoord

   see :attr:`spatialFeature`

   :FGDC: //metadata/idinfo/spdom/bounding/northbc
   :EML: //dataset/coverage/geographicCoverage/boundingCoordinates/northBoundingCoordinate
   :Dryad: 


.. attribute:: westBoundCoord

   see :attr:`spatialFeature`

   :FGDC: //metadata/idinfo/spdom/bounding/westbc
   :EML: //dataset/coverage/geographicCoverage/boundingCoordinates/westBoundingCoordinate
   :Dryad:


.. attribute:: eastBoundCoord

   see :attr:`spatialFeature`

   :FGDC: //metadata/idinfo/spdom/bounding/eastbc
   :EML: //dataset/coverage/geographicCoverage/boundingCoordinates/eastBoundingCoordinate
   :Dryad:


.. attribute:: spatialFeature

  (SpatialFeature)
  - Spatial bounding box (largest bounding rectangle)
  - Spatial window (series of spatial envelopes representative of the spatial locations of where the data is collected from or relevant to)
  - Spatial features (points, bounding boxes, polygons)
  - Centroid
  - Bounding box
  - Polygon
  - (not largest extent)
  - (need to resolve the semantics of the bounding box search - e.g. if centroids are recorded but fall outside of bounding box search)
  - Bounding box with contains or overlaps 
  - can be supported by SOLR and Metacat searches
  - Mercury UI


.. attribute:: namedLocation

  (String) Named places Term Type Context (Columbus OH, Columbus GA) Namespace
  of gazetteer

  - free text search field
  - provide recommendations for representation (see Wieczorek's georeferencing document)
  - Mercury UI


.. attribute:: beginDate

  (DateTime)

  - temporalCoverageStart
  - temporal extent
  - "jurassic" vs "date collected for jurassic specimen"
  - not publication date, not creation date
  - Applicability date (as opposed to collection date or publication date -- though searching on collection date is a secondary search).  Multiple dates possible:  Collection/observation date, coverage date, analysis date, publication date, metadata modification date (e.g. peat bog samples relevant to 50,000 - 10,000 BCE, collected in July 1980, re-analyzed in July 2008, published in January 2010, and metadata revised in June 2010).  In this example, earliestDate applies to 50,000 BCE.  
  - Mercury UI

  :FGDC:
  :EML:
  :Dryad:


.. attribute:: endDate

  (DateTime) Temporal window

  - temporalCoverageEnd, Relative terms (e.g. terms from the Geologic time
    scale) need to be supported Date ranges Temporal coverage of the data set
    (e.g. searches - during, before, after)

  - same notes as above apply

  - Mercury UI


  :FGDC:
  :EML:
  :Dryad:


.. attribute:: text

  (String) Full text search / Text search on abstract - Mercury UI


.. attribute:: title

  (string) Title (2) - Mercury UI

  :FGDC:
  :EML:
  :Dryad:


.. attribute:: fmtid

  (String) Type of data (format) (2)
  
  - Original data
  - Summarized versions
  - Method used for processing (to generate summary, or original data)
  - Resource type (spatial, models, observations, web service, ...)
  - search the system metadata value, but need to parse system metadata of related objects to determine the objectFormat(s) of the data.
  - Potential for mapping the values appearing the science metadata to the controlled terms available in the object format registry
  - label should be "content type"


.. attribute:: variableName

  (String) Scientific variables (from a controlled vocabulary) (1)

  - not in Dryad, optional in most/all
  - Mercury UI


.. attribute:: scientificName

  (String)  Biological taxonomic extents (1)

  - lots of opportunities for cleanup services from ITIS, EOL, etc
  - Mercury UI


.. attribute:: submitter

  (String) 

  - for either data or metadata
  - Principal that added the content to the MN
  - Needs to be translated from the subject to the individual's name


.. attribute:: relatedObject

  (String)  Related data (data sets, publications)

  - given a PID find everything that refers to it (deprecated, describes, derivedFrom...)
  - This should probably be specific to relation type - find all stuff derivedFrom PID


.. attribute:: quality

  (String, controlled vocabulary) Quality / level of curation


.. attribute:: relatedOrganizations

  (String) Organizations involved in study

  - low priority


.. attribute:: size

  (Integer, long) Size of data (bytes)

  - needed for drive, display, not necessary for UI search


.. attribute:: replicaLocation

  (String)  Number / location of replicas


.. attribute:: pid

  (Types.IdentifierType) Identifier (PID)

  The PID of the object as expressed in the system metadata document.

  - Need to be able to find metadata records describing a dataset identified
    by PID. Can be achieved by using the describedBy field.

  - Find any science metadata that is or describes PID

  - Mercury UI


.. attribute:: datePublished

  - drawn from science metadata
  - is this the same as publication date concept in datacite - Yes
  - Mercury UI

  :FGDC:
  :EML:
  :Dryad:


.. attribute:: dateAddedToRepository

  - first submission to Member Node (drawn from science metadata if available, otherwise system metadata)


.. attribute:: dateSysMetadataModified

  (DateTime) available from sysmeta


.. attribute:: readPermission

  - element in permission index, used for shard query


.. attribute:: writePermission

  (Types.PrincipalType) Permissions on objects (e.g. available to read by user)

  - element in permission index, used for shard query


.. attribute:: executePermission


.. attribute:: changePermission


.. attribute:: checksum


.. attribute:: checksumAlgorithm


.. attribute:: rightsHolder


.. attribute:: rep_allowed


.. attribute:: n_replicas


.. attribute:: pref_rep_mn


.. attribute:: blocked_rep_mn


.. attribute:: obsoletes


.. attribute:: obsoletedBy


.. attribute:: datemodified


.. attribute:: dateUploaded


.. attribute:: origin_mn


.. attribute:: auth_mn


.. attribute:: replica_mn


.. attribute:: isPublic


.. attribute:: resourceMaps


.. attribute:: contains


.. attribute:: documents


.. attribute:: isDocumentedBy



Creating Citations from Index Fields
------------------------------------

**Table 3.** Cross reference of index fields and elements useful in citation
best practices as exemplified in the `interagency data stewardship`_ wiki page
of ESIP. * = Mandatory (if applicable). COinS tags provide a mechanism of
embedding `Z39.88-2004`_ elements in HTML for consumption by citation manager
tools.

.. list-table::
   :header-rows: 1
   :widths: 5 5 5 5 5

   * - Citation Element
     - FGDC CSDGM field
     - DataCite Metadata Scheme ID and Property
     - DataONE Index Field
     - COinS_ Tag
   * - Author or Creator*
     - idinfo > citation > citeinfo > "origin"
     - 2 Creator*
     - :attr:`author`
     - rft.creator
   * - Release Date*
     - idinfo > citation > citeinfo > "pubdate" and sometimes "othercit"
     - 5 PublicationYear*
     - :attr:`datePublished`
     - rft.date
   * - Title*
     - idinfo > citation > citeinfo > "title" and possibly "edition"
     - 3 Title*
     - :attr:`title`
     - rft.title
   * - Version*
     - 
     - 15 Version
     - See notes below.
     - 
   * - Archive and/or Distributor*
     - idinfo > citation > citeinfo > "publish"
     - 4 Publisher*
     - See notes below.
     - rft.publisher
   * - Locator, Identifier, or Distribution Medium*
     - idinfo > citation > citeinfo > "othercit" or "onlink"
     - 1 Identifier*
     - :attr:`pid`
     - rft.identifier
   * - Access Date and Time*
     - not applicable
     - 8 Date
     - perhaps :attr:`dateUploaded`
     - 
   * - Subset Used
     - not applicable
     - 12 RelatedIdentifier DataCite recommends obtaining an identifier for
       any subset that needs to be cited as well as an identifier for the
       larger whole.
     - perhaps a reference to the resource map?
     - 
   * - Editor or Other Important Role
     - idinfo > citation > citeinfo > "origin"
     - 7 Contributor
     - See notes below.
     - rft.source
   * - Publication Place
     - idinfo > citation > citeinfo > "pubplace"
     - 17 Description
     - See notes below.
     - 
   * - Distributor, Associate Archive, or other Institutional Role
     - idinfo > citation > citeinfo > "othercit"
     - 7 Contributor or possibly 4 Publisher
     - "http://dataone.org"
     - 
   * - Data Within a Larger Work
     - idinfo > citation > citeinfo > "othercit" or "lworkcit"
     - 12 RelatedIdentifier
     - perhaps a reference to the resource map?
     - 
   * - 
     - 
     - 
     - :attr:`keyWord`
     - rft.subject
   * - 
     - 
     - 
     - :attr:`abstract`
     - rft.description
   * - 
     - 
     - 
     - object format name, or "data" | "metadata" | "resource map"
     - rft.type
   * - 
     - 
     - 
     - object format type
     - rft.format
   * - 
     - 
     -
     - constructed from bounding box
     - rft.coverage




**Notes**

:Version:

  There is no clear recommendation on how to express version. For an object
  with a linear revision history (A is obsoleted by B is obsoleted by C),
  object C might be considered to have a version of "2". However, it is
  possible for an object to have a tree lineage (A1 and A2 are obsoleted by
  B1, and B1, A3 and Z are obsoleted by C). A suggestion for a version
  indicator in this case may be the total number of parent objects, 5 in this
  case. Another option may be to indicate the number of contributing objects
  at each revision, 1.1 in the first case, and 2.3 in the second.


:Publisher:

  The publisher in DataONE may in some cases be the origin member node,
  however this will not always be the case. For example, many data sets in the
  KNB are published by LTER, though KNB would be the member node. Where
  possible the publisher information should be pulled from the science
  metadata, though this may be complicated where multiple data and metadata
  entries occur within a data package and there are several publishers listed.
  In this case, a simple concatenation of the publishers (semi-colon + space
  delimited) may be sufficient.


:Date:

  In the DataCite 2.2 document, a mapping between Date and the dcterms:date is
  suggested. The description of dcterms:date is "A point or period of time
  associated with an event in the lifecycle of the resource." In DataONE there
  are two main dates related to an object, when the content is added to the
  system, and when the properties of the object (access control, and so forth)
  are modified. Since the content of the object does not change once submitted
  to DataONE, the :attr:`SystemMetadata.dateUploaded` value seems appropriate
  here, expressed as :attr:`dateUploaded` in the search index.


:Subset Used:

  DataONE does not provide a mechanism for identifying sets of information
  other than through resource maps which describe data packages. It is
  possible that a resource map may contain references to additional resource
  maps, conceptually equivalent to subsets of content. The simplest option
  here would be to use the identifier of the resource map object describing
  the package in question.


:Contributor:

  Described in DataCite 2.2 as "The institution or person responsible for
  collecting, creating, or otherwise contributing to the development of the
  dataset", this optional element can be populated by the citeinfo/origin
  element from FGDC.


:Publication Place:

  In CSDGM, "the name of the city (and state or province, and country, if
  needed to identify the city) where the data set was published or released".


:Data Within a Larger Work:

  This is similar to the "Subset Used" entry except in the other direction of
  containment. The identifier of the containing resource map relevant to the
  current package should be used.



.. _interagency data stewardship: http://wiki.esipfed.org/index.php/Interagency_Data_Stewardship/Citations/provider_guidelines
.. _DataCite terms: http://wiki.esipfed.org/index.php/Interagency_Data_Stewardship/Citations/provider_guidelines
.. _Z39.88-2004: http://www.niso.org/kst/reports/standards/kfile_download?id%3Austring%3Aiso-8859-1=Z39-88-2004.pdf&pt=RkGKiXzW643YeUaYUqZ1BFwDhIG4-24RJbcZBWg8uE4vWdpZsJDs4RjLz0t90_d5_ymGsj_IKVaGZww13HuDlZQ8NBt1sTxP_v4iiGqH7rSaAeVDnMfeKJrrJ_JSEGPB
.. _COinS: http://ocoins.info/
.. _Well Known Text: http://en.wikipedia.org/wiki/Well-known_text
.. _SOLR: http://lucene.apache.org/solr/


..
  NOTES etc (not rendered below)

  Searching content in DataONE involves the process of matching a user provided
  value with some value extracted from the science metadata.

  Values can be simple (e.g. string, integer, floating point, date) or compound
  (e.g. spatial coordinate constructed from two floats - the latitude and
  longitude and a string - the coordinate system identifier).

  Expression in science metadata

  Expression in extracted values that are indexed

  Expression in a query

  * Integer

  * Float

  * String

  * DateTime

  * SpatialFeature (use `Well Known Text`_ )

  * Publication (A structured type, perhaps search by decomposing to elements)

  * ScientificName (A structured type, perhaps search by decomposing to elements)




