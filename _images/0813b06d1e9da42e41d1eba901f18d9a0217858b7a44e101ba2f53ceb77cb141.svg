<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="469px" preserveAspectRatio="none" style="width:708px;height:469px;" version="1.1" viewBox="0 0 708 469" width="708px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vf9xpy8nb17b" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="56.5938" y2="410.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="161.5" x2="161.5" y1="56.5938" y2="410.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="279" x2="279" y1="56.5938" y2="410.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="449" x2="449" y1="56.5938" y2="410.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="634.5" x2="634.5" y1="56.5938" y2="410.0547"/><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="12" y="24.9951">«CNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="15.5" y="41.292">CILogon</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="79" x="5" y="409.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="12" y="429.0498">«CNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="15.5" y="445.3467">CILogon</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="112" x="103.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="110.5" y="24.9951">«Application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="138" y="41.292">Client</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="112" x="103.5" y="409.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="110.5" y="429.0498">«Application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="138" y="445.3467">Client</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="81" x="237" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="244" y="24.9951">«MNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="266.5" y="41.292">MN</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="81" x="237" y="409.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="244" y="429.0498">«MNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="266.5" y="445.3467">MN</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="121" x="387" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="415" y="24.9951">«CNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="394" y="41.292">SessionService</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="121" x="387" y="409.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="415" y="429.0498">«CNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="394" y="445.3467">SessionService</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="124" x="570.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="600" y="24.9951">«CNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="577.5" y="41.292">IdentityService</text><rect fill="#FEFECE" filter="url(#f1vf9xpy8nb17b)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="124" x="570.5" y="409.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="600" y="429.0498">«CNode»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="577.5" y="445.3467">IdentityService</text><polygon fill="#A80036" points="57.5,83.7266,47.5,87.7266,57.5,91.7266,53.5,87.7266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="160.5" y1="87.7266" y2="87.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="63.5" y="82.6606">authenticate()</text><polygon fill="#A80036" points="149.5,112.8594,159.5,116.8594,149.5,120.8594,153.5,116.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46.5" x2="155.5" y1="116.8594" y2="116.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="53.5" y="111.7935">X.509</text><polygon fill="#A80036" points="437.5,141.9922,447.5,145.9922,437.5,149.9922,441.5,145.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="443.5" y1="145.9922" y2="145.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="168.5" y="140.9263">newSession(X.509)</text><polygon fill="#A80036" points="622.5,171.125,632.5,175.125,622.5,179.125,626.5,175.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="449.5" x2="628.5" y1="175.125" y2="175.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="456.5" y="170.0591">getPrincipalInfo(Principal)</text><polygon fill="#A80036" points="460.5,200.2578,450.5,204.2578,460.5,208.2578,456.5,204.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="454.5" x2="633.5" y1="204.2578" y2="204.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="466.5" y="199.1919">PrincipalList</text><polygon fill="#A80036" points="172.5,229.3906,162.5,233.3906,172.5,237.3906,168.5,233.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="166.5" x2="448.5" y1="233.3906" y2="233.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="178.5" y="228.3247">token</text><polygon fill="#A80036" points="267.5,258.5234,277.5,262.5234,267.5,266.5234,271.5,262.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="273.5" y1="262.5234" y2="262.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="168.5" y="257.4575">get(token, pid)</text><polygon fill="#A80036" points="437.5,287.6563,447.5,291.6563,437.5,295.6563,441.5,291.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279.5" x2="443.5" y1="291.6563" y2="291.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="286.5" y="286.5903">getAuthSession(token)</text><polygon fill="#A80036" points="290.5,316.7891,280.5,320.7891,290.5,324.7891,286.5,320.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="284.5" x2="448.5" y1="320.7891" y2="320.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="296.5" y="315.7231">AuthSession Assertion</text><line style="stroke:#A80036;stroke-width:1.0;" x1="279.5" x2="321.5" y1="349.9219" y2="349.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="321.5" x2="321.5" y1="349.9219" y2="362.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="280.5" x2="321.5" y1="362.9219" y2="362.9219"/><polygon fill="#A80036" points="290.5,358.9219,280.5,362.9219,290.5,366.9219,286.5,362.9219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="286.5" y="344.856">isAuthorized()</text><polygon fill="#A80036" points="172.5,388.0547,162.5,392.0547,172.5,396.0547,168.5,392.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="166.5" x2="278.5" y1="392.0547" y2="392.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="178.5" y="386.9888">object</text><!--MD5=[2488562544f0b5f5b2b8637dbe758674]
@startuml
participant "CILogon" as cilogon << CNode >>
participant "Client" as app_client << Application >>
participant "MN" as mn << MNode >>
participant "SessionService" as session << CNode >>
participant "IdentityService" as ident << CNode >>

app_client -> cilogon: authenticate()
app_client <- cilogon: X.509
app_client -> session: newSession(X.509)
session -> ident: getPrincipalInfo(Principal)
session <- ident: PrincipalList
app_client <- session: token

app_client -> mn: get(token, pid)
mn -> session: getAuthSession(token)
mn <- session: AuthSession Assertion
mn -> mn: isAuthorized()
app_client <- mn: object
@enduml

PlantUML version 1.2020.21beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>