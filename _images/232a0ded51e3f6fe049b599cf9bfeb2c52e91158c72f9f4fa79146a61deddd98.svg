<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1476px" preserveAspectRatio="none" style="width:1058px;height:1476px;" version="1.1" viewBox="0 0 1058 1476" width="1058px" zoomAndPan="magnify"><defs><filter height="300%" id="fz2ord0m196tz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="237.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="255.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="358.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="255.5" y="401.0234"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="255.5" y="829.8203"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="539.5" y="659.4844"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="307.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="539.5" y="829.8203"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="539.5" y="1166.2813"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="253.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="755.5" y="1107.1484"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="306.5938" style="stroke:#000000;stroke-width:2.0;" width="594" x="450" y="1068.8828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="22" x2="22" y1="88.2969" y2="767.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="22" x2="22" y1="767.8828" y2="808.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="22" x2="22" y1="808.6875" y2="1392.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="260.5" y1="88.2969" y2="767.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="260.5" x2="260.5" y1="767.8828" y2="808.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="260.5" y1="808.6875" y2="1392.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="544" x2="544" y1="88.2969" y2="767.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="544" x2="544" y1="767.8828" y2="808.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="544" x2="544" y1="808.6875" y2="1392.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="760.5" x2="760.5" y1="88.2969" y2="767.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="760.5" x2="760.5" y1="767.8828" y2="808.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="760.5" x2="760.5" y1="808.6875" y2="1392.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="5" y="84.9951">Bob</text><ellipse cx="22.5" cy="15" fill="#FEFECE" filter="url(#fz2ord0m196tz)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M22.5,23 L22.5,50 M9.5,31 L35.5,31 M22.5,50 L9.5,65 M22.5,50 L35.5,65 " fill="none" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="5" y="1404.4717">Bob</text><ellipse cx="22.5" cy="1417.7734" fill="#FEFECE" filter="url(#fz2ord0m196tz)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M22.5,1425.7734 L22.5,1452.7734 M9.5,1433.7734 L35.5,1433.7734 M22.5,1452.7734 L9.5,1467.7734 M22.5,1452.7734 L35.5,1467.7734 " fill="none" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fz2ord0m196tz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="132" x="192.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="199.5" y="56.6982">«Member Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="210.5" y="72.9951">Authoritative</text><rect fill="#FEFECE" filter="url(#fz2ord0m196tz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="132" x="192.5" y="1391.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="199.5" y="1411.4717">«Member Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="210.5" y="1427.7686">Authoritative</text><rect fill="#FEFECE" filter="url(#fz2ord0m196tz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="460" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="467" y="56.6982">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="475.5" y="72.9951">Coordinating Node</text><rect fill="#FEFECE" filter="url(#fz2ord0m196tz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="460" y="1391.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="467" y="1411.4717">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="475.5" y="1427.7686">Coordinating Node</text><rect fill="#FEFECE" filter="url(#fz2ord0m196tz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="132" x="692.5" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="699.5" y="56.6982">«Member Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="732" y="72.9951">Replica</text><rect fill="#FEFECE" filter="url(#fz2ord0m196tz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="132" x="692.5" y="1391.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="699.5" y="1411.4717">«Member Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="732" y="1427.7686">Replica</text><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="237.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="255.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="358.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="255.5" y="401.0234"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="255.5" y="829.8203"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="539.5" y="659.4844"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="307.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="539.5" y="829.8203"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="539.5" y="1166.2813"/><rect fill="#FFFFFF" filter="url(#fz2ord0m196tz)" height="253.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="755.5" y="1107.1484"/><polygon fill="#A80036" points="243.5,115.4297,253.5,119.4297,243.5,123.4297,247.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="22.5" x2="249.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="29.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="42.5" y="114.3638">getSystemMetadata</text><path d="M270,132.4297 L270,187.4297 L487,187.4297 L487,142.4297 L477,132.4297 L270,132.4297 " fill="#FBFB77" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M477,132.4297 L477,142.4297 L487,142.4297 L477,132.4297 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="276" y="149.4966">System Metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="276" y="164.6294">serialVersion = 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="276" y="179.7622">dateSysMetadataModified = t1</text><path d="M549,201.8281 L549,256.8281 L766,256.8281 L766,211.8281 L756,201.8281 L549,201.8281 " fill="#FBFB77" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M756,201.8281 L756,211.8281 L766,211.8281 L756,201.8281 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="555" y="218.895">System Metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="555" y="234.0278">serialVersion = 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="555" y="249.1606">dateSysMetadataModified = t1</text><path d="M765,271.2266 L765,326.2266 L982,326.2266 L982,281.2266 L972,271.2266 L765,271.2266 " fill="#FBFB77" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M972,271.2266 L972,281.2266 L982,281.2266 L972,271.2266 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="771" y="288.2935">System Metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="771" y="303.4263">serialVersion = 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="771" y="318.5591">dateSysMetadataModified = t1</text><polygon fill="#A80036" points="33.5,352.7578,23.5,356.7578,33.5,360.7578,29.5,356.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="259.5" y1="356.7578" y2="356.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="39.5" y="351.6919">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="52.5" y="351.6919">dateSysMetadataModified = t1</text><polygon fill="#A80036" points="243.5,397.0234,253.5,401.0234,243.5,405.0234,247.5,401.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="22.5" x2="249.5" y1="401.0234" y2="401.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="8" x="29.5" y="388.3911">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="41.5" y="380.8247">updateSystemMetadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="41.5" y="395.9575">dateSysMetadataModified=t1</text><line style="stroke:#A80036;stroke-width:1.0;" x1="265.5" x2="307.5" y1="430.1563" y2="430.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307.5" x2="307.5" y1="430.1563" y2="443.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="266.5" x2="307.5" y1="443.1563" y2="443.1563"/><polygon fill="#A80036" points="276.5,439.1563,266.5,443.1563,276.5,447.1563,272.5,443.1563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="272.5" y="425.0903">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="285.5" y="425.0903">check dateSysMetadataModified == t1</text><line style="stroke:#A80036;stroke-width:1.0;" x1="265.5" x2="307.5" y1="487.4219" y2="487.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307.5" x2="307.5" y1="487.4219" y2="500.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="266.5" x2="307.5" y1="500.4219" y2="500.4219"/><polygon fill="#A80036" points="276.5,496.4219,266.5,500.4219,276.5,504.4219,272.5,500.4219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="272.5" y="474.7896">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="285.5" y="467.2231">update properties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="285.5" y="482.356">dateSysMetadataModified = now()</text><path d="M270,513.4219 L270,628.4219 L531,628.4219 L531,523.4219 L521,513.4219 L270,513.4219 " fill="#FBFB77" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M521,513.4219 L521,523.4219 L531,523.4219 L521,513.4219 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="276" y="530.4888">System Metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="276" y="545.6216">serialVersion = 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="276" y="560.7544">dateSysMetadataModified = t2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="280" y="575.8872"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="276" y="591.02">Mutable properties other than Replica</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="276" y="606.1528">entries may be updated by a user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="276" y="621.2856">with appropriate permission.</text><polygon fill="#A80036" points="527.5,655.4844,537.5,659.4844,527.5,663.4844,531.5,659.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="265.5" x2="533.5" y1="659.4844" y2="659.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="272.5" y="654.4185">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="285.5" y="654.4185">synchronize</text><line style="stroke:#A80036;stroke-width:1.0;" x1="549.5" x2="591.5" y1="688.6172" y2="688.6172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="591.5" x2="591.5" y1="688.6172" y2="701.6172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="550.5" x2="591.5" y1="701.6172" y2="701.6172"/><polygon fill="#A80036" points="560.5,697.6172,550.5,701.6172,560.5,705.6172,556.5,701.6172" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="556.5" y="683.5513">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="569.5" y="683.5513">schedule update</text><polygon fill="#A80036" points="276.5,726.75,266.5,730.75,276.5,734.75,272.5,730.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="270.5" x2="543.5" y1="730.75" y2="730.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="282.5" y="725.6841">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="295.5" y="725.6841">ack</text><polygon fill="#A80036" points="33.5,755.8828,23.5,759.8828,33.5,763.8828,29.5,759.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="259.5" y1="759.8828" y2="759.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="39.5" y="754.8169">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="52.5" y="754.8169">ack</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="330" y="792.0933"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="123" x="330" y="792.0933">Potentially long delay</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="457" y="792.0933"/><polygon fill="#A80036" points="276.5,825.8203,266.5,829.8203,276.5,833.8203,272.5,829.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="270.5" x2="538.5" y1="829.8203" y2="829.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="282.5" y="824.7544">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="305.5" y="824.7544">getSystemMetadata</text><polygon fill="#A80036" points="527.5,854.9531,537.5,858.9531,527.5,862.9531,531.5,858.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="533.5" y1="858.9531" y2="858.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="267.5" y="853.8872">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="289.5" y="853.8872">systemMetadata</text><line style="stroke:#A80036;stroke-width:1.0;" x1="549.5" x2="591.5" y1="888.0859" y2="888.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="591.5" x2="591.5" y1="888.0859" y2="901.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="550.5" x2="591.5" y1="901.0859" y2="901.0859"/><polygon fill="#A80036" points="560.5,897.0859,550.5,901.0859,560.5,905.0859,556.5,901.0859" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="556.5" y="883.02">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="578.5" y="883.02">update properties</text><path d="M554,914.0859 L554,969.0859 L771,969.0859 L771,924.0859 L761,914.0859 L554,914.0859 " fill="#FBFB77" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M761,914.0859 L761,924.0859 L771,924.0859 L761,914.0859 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="560" y="931.1528">System Metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="560" y="946.2856">serialVersion = 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="560" y="961.4185">dateSysMetadataModified = t2</text><polygon fill="#A80036" points="1042,995.6172,1052,999.6172,1042,1003.6172,1046,999.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="549.5" x2="1048" y1="999.6172" y2="999.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="556.5" y="994.5513">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="308" x="577.5" y="994.5513">&lt;&lt;internal&gt;&gt; Notify System Metadata Changed</text><path d="M554,1012.6172 L554,1052.6172 L774,1052.6172 L774,1022.6172 L764,1012.6172 L554,1012.6172 " fill="#FBFB77" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M764,1012.6172 L764,1022.6172 L774,1022.6172 L764,1012.6172 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="560" y="1029.6841">Indexing and other CN services</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="560" y="1044.8169">are notified of the change</text><path d="M450,1068.8828 L690,1068.8828 L690,1075.8828 L680,1085.8828 L450,1085.8828 L450,1068.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="306.5938" style="stroke:#000000;stroke-width:2.0;" width="594" x="450" y="1068.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="465" y="1081.9497">Update only replica nodes</text><polygon fill="#A80036" points="743.5,1103.1484,753.5,1107.1484,743.5,1111.1484,747.5,1107.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="549.5" x2="749.5" y1="1107.1484" y2="1107.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="556.5" y="1102.0825">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="578.5" y="1102.0825">systemMetadataChanged</text><polygon fill="#A80036" points="560.5,1162.2813,550.5,1166.2813,560.5,1170.2813,556.5,1166.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554.5" x2="754.5" y1="1166.2813" y2="1166.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="566.5" y="1161.2153">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="588.5" y="1161.2153">getSystemMetadata</text><polygon fill="#A80036" points="743.5,1191.4141,753.5,1195.4141,743.5,1199.4141,747.5,1195.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="544.5" x2="749.5" y1="1195.4141" y2="1195.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="551.5" y="1190.3481">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="573.5" y="1190.3481">SystemMetadata</text><path d="M770,1208.4141 L770,1323.4141 L1030,1323.4141 L1030,1218.4141 L1020,1208.4141 L770,1208.4141 " fill="#FBFB77" filter="url(#fz2ord0m196tz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1020,1208.4141 L1020,1218.4141 L1030,1218.4141 L1020,1208.4141 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="776" y="1225.481">System Metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="776" y="1240.6138">serialVersion = 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="776" y="1255.7466">dateSysMetadataModified = t2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="780" y="1270.8794"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="776" y="1286.0122">On replica MNs, all mutable System</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="776" y="1301.145">Metadata properties may be updated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="776" y="1316.2778">by a CN</text><line style="stroke:#A80036;stroke-width:1.0;" x1="765.5" x2="807.5" y1="1359.4766" y2="1359.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="807.5" x2="807.5" y1="1359.4766" y2="1372.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="760.5" x2="807.5" y1="1372.4766" y2="1372.4766"/><polygon fill="#A80036" points="770.5,1368.4766,760.5,1372.4766,770.5,1376.4766,766.5,1372.4766" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="772.5" y="1354.4106">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="794.5" y="1354.4106">update properties</text><!--MD5=[7bb420054ed8c791dc39e0dce23799aa]
@startuml
autonumber
actor Bob
participant "Authoritative" as MN <<Member Node>>
participant "Coordinating Node" as CN <<Coordinating Node>>
participant "Replica" as MN_repl <<Member Node>>
Bob -> MN: getSystemMetadata
note right of MN
 System Metadata
 serialVersion = 10
 dateSysMetadataModified = t1
end note
note right of CN
 System Metadata
 serialVersion = 10
 dateSysMetadataModified = t1
end note
note right of MN_repl
 System Metadata
 serialVersion = 10
 dateSysMetadataModified = t1
end note
activate MN
MN -> Bob: dateSysMetadataModified = t1
deactivate MN
Bob -> MN : updateSystemMetadata\ndateSysMetadataModified=t1
activate MN
MN -> MN: check dateSysMetadataModified == t1
MN -> MN: update properties\ndateSysMetadataModified = now()
note right of MN
  System Metadata
  serialVersion = 10
  dateSysMetadataModified = t2

  Mutable properties other than Replica
  entries may be updated by a user
  with appropriate permission.
end note
MN -> CN: synchronize
activate CN
CN -> CN: schedule update
CN -> MN: ack
deactivate CN
MN -> Bob: ack
deactivate MN

... __Potentially long delay__ ...

CN -> MN : getSystemMetadata
activate CN
activate MN
MN -> CN: systemMetadata
deactivate MN
CN -> CN: update properties
note right of CN
 System Metadata
 serialVersion = 10
 dateSysMetadataModified = t2
end note
CN ->] : <<internal>> Notify System Metadata Changed
note right of CN
  Indexing and other CN services
  are notified of the change
end note

group Update only replica nodes
CN -> MN_repl: systemMetadataChanged
activate MN_repl
deactivate CN

MN_repl -> CN: getSystemMetadata
activate CN
CN -> MN_repl: SystemMetadata
deactivate CN
note right of MN_repl
 System Metadata
 serialVersion = 10
 dateSysMetadataModified = t2

 On replica MNs, all mutable System
 Metadata properties may be updated
 by a CN
end note
MN_repl -> MN_repl: update properties
deactivate MN_repl
end
@enduml

PlantUML version 1.2020.21beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>