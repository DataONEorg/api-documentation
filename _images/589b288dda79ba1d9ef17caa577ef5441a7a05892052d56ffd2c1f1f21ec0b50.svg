<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="405px" preserveAspectRatio="none" style="width:685px;height:405px;" version="1.1" viewBox="0 0 685 405" width="685px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lut50rz65d04" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="80" x2="80" y1="56.5938" y2="345.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="242" x2="242" y1="56.5938" y2="345.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="411" x2="411" y1="56.5938" y2="345.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="590" x2="590" y1="56.5938" y2="345.9219"/><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="146" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="12" y="24.9951">«Member Node A»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="23.5" y="41.292">Replication API</text><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="146" x="5" y="344.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="12" y="364.917">«Member Node A»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="23.5" y="381.2139">Replication API</text><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="146" x="167" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="174" y="24.9951">«Member Node B»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="185.5" y="41.292">Replication API</text><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="146" x="167" y="344.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="174" y="364.917">«Member Node B»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="185.5" y="381.2139">Replication API</text><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="327" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="334" y="24.9951">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="342" y="41.292">Authentication API</text><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="327" y="344.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="334" y="364.917">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="342" y="381.2139">Authentication API</text><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="506" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="513" y="24.9951">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="553.5" y="41.292">Verify API</text><rect fill="#FEFECE" filter="url(#f1lut50rz65d04)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="506" y="344.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="513" y="364.917">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="553.5" y="381.2139">Verify API</text><polygon fill="#A80036" points="399.5,96.293,409.5,100.293,399.5,104.293,403.5,100.293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80" x2="405.5" y1="100.293" y2="100.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="87" y="95.2271">login(user, pw)</text><path d="M416,71.5938 L416,111.5938 L670,111.5938 L670,81.5938 L660,71.5938 L416,71.5938 " fill="#FBFB77" filter="url(#f1lut50rz65d04)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M660,71.5938 L660,81.5938 L670,81.5938 L660,71.5938 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="422" y="88.6606">The user in this case is the DataONE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="422" y="103.7935">identity given to MN A.</text><polygon fill="#A80036" points="91,137.9922,81,141.9922,91,145.9922,87,141.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85" x2="410.5" y1="141.9922" y2="141.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="97" y="136.9263">token or failure</text><polygon fill="#A80036" points="230,167.125,240,171.125,230,175.125,234,171.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80" x2="236" y1="171.125" y2="171.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="87" y="166.0591">getContent(token, ...)</text><polygon fill="#A80036" points="578.5,196.2578,588.5,200.2578,578.5,204.2578,582.5,200.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="242" x2="584.5" y1="200.2578" y2="200.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="249" y="195.1919">isAuthorized(token, ...)</text><polygon fill="#A80036" points="253,225.3906,243,229.3906,253,233.3906,249,229.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="247" x2="589.5" y1="229.3906" y2="229.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="259" y="224.3247">True or False</text><polygon fill="#A80036" points="91,274.6563,81,278.6563,91,282.6563,87,278.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85" x2="241" y1="278.6563" y2="278.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="97" y="273.5903">content or Fail</text><path d="M247,242.3906 L247,297.3906 L502,297.3906 L502,252.3906 L492,242.3906 L247,242.3906 " fill="#FBFB77" filter="url(#f1lut50rz65d04)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M492,242.3906 L492,252.3906 L502,252.3906 L492,242.3906 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="253" y="259.4575">Member Node A is now in a modified</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="253" y="274.5903">state and should signal this during</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="253" y="289.7231">next status request from a CN</text><polygon fill="#A80036" points="399.5,323.9219,409.5,327.9219,399.5,331.9219,403.5,327.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="80" x2="405.5" y1="327.9219" y2="327.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="87" y="322.856">logout(token)</text><!--MD5=[29fb51821e5122e3ab926037f59787b6]
@startuml
participant "Replication API" as m_rep_a << Member Node A >>
participant "Replication API" as m_rep_b << Member Node B >>
participant "Authentication API" as c_authenticate << Coordinating Node >>
participant "Verify API" as c_ver << Coordinating Node >>
m_rep_a -> c_authenticate: login(user, pw)
note right
  The user in this case is the DataONE
  identity given to MN A.
end note
m_rep_a <- - c_authenticate: token or failure
m_rep_a -> m_rep_b: getContent(token, ...)
m_rep_b -> c_ver: isAuthorized(token, ...)
m_rep_b <- - c_ver: True or False
m_rep_a <- - m_rep_b: content or Fail
note right
  Member Node A is now in a modified
  state and should signal this during
  next status request from a CN
end note
m_rep_a - -> c_authenticate: logout(token)
@enduml

PlantUML version 1.2020.21beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>