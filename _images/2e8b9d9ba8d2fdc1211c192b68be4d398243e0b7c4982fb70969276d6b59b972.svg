<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="448px" preserveAspectRatio="none" style="width:527px;height:448px;" version="1.1" viewBox="0 0 527 448" width="527px" zoomAndPan="magnify"><defs><filter height="300%" id="f1eul7uds4q5hg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1eul7uds4q5hg)" height="104.5313" style="stroke:#000000;stroke-width:2.0;" width="503" x="10" y="57.2969"/><rect fill="#FFFFFF" filter="url(#f1eul7uds4q5hg)" height="211.9297" style="stroke:#000000;stroke-width:2.0;" width="468" x="10" y="175.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="58" x2="58" y1="40.2969" y2="404.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="154" x2="154" y1="40.2969" y2="404.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="272.5" x2="272.5" y1="40.2969" y2="404.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="351.5" x2="351.5" y1="40.2969" y2="404.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="465" x2="465" y1="40.2969" y2="404.7578"/><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="27" y="24.9951">Browser</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="20" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="27" y="423.7529">Browser</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="34" x="135" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="20" x="142" y="24.9951">CN</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="34" x="135" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="20" x="142" y="423.7529">CN</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="73" x="234.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="241.5" y="24.9951">Metacat</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="73" x="234.5" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="241.5" y="423.7529">Metacat</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="321.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="328.5" y="24.9951">Portal</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="321.5" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="328.5" y="423.7529">Portal</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="427" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="434" y="24.9951">CILogon</text><rect fill="#FEFECE" filter="url(#f1eul7uds4q5hg)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="427" y="403.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="434" y="423.7529">CILogon</text><path d="M10,57.2969 L91,57.2969 L91,64.2969 L81,74.2969 L10,74.2969 L10,57.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:2.0;" width="503" x="10" y="57.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="25" y="70.3638">login</text><polygon fill="#A80036" points="453,91.5625,463,95.5625,453,99.5625,457,95.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="352" x2="459" y1="95.5625" y2="95.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="359" y="90.4966">get certificate</text><polygon fill="#A80036" points="363,120.6953,353,124.6953,363,128.6953,359,124.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="357" x2="464" y1="124.6953" y2="124.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="369" y="119.6294">certificate</text><polygon fill="#A80036" points="69,149.8281,59,153.8281,69,157.8281,65,153.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="351" y1="153.8281" y2="153.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="75" y="148.7622">cookie</text><path d="M10,175.8281 L393,175.8281 L393,182.8281 L383,192.8281 L10,192.8281 L10,175.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="211.9297" style="stroke:#000000;stroke-width:2.0;" width="468" x="10" y="175.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="338" x="25" y="188.895">https://cn-dev.dataone.org/cn/v1/object/blah</text><polygon fill="#A80036" points="142,210.0938,152,214.0938,142,218.0938,146,214.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="58" x2="148" y1="214.0938" y2="214.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="65" y="209.0278">get(cookie)</text><polygon fill="#A80036" points="340,244.2266,350,248.2266,340,252.2266,344,248.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="154" x2="346" y1="248.2266" y2="248.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="161" y="243.1606">get certificate (cookie)</text><path d="M357,227.0938 L357,252.0938 L459,252.0938 L459,237.0938 L449,227.0938 L357,227.0938 " fill="#FBFB77" filter="url(#f1eul7uds4q5hg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M449,227.0938 L449,237.0938 L459,237.0938 L449,227.0938 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="363" y="244.1606">same server</text><polygon fill="#A80036" points="165,278.3594,155,282.3594,165,286.3594,161,282.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="159" x2="351" y1="282.3594" y2="282.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="171" y="277.2935">certificate</text><polygon fill="#A80036" points="261,312.4922,271,316.4922,261,320.4922,265,316.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="154" x2="267" y1="316.4922" y2="316.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="161" y="311.4263">get(certificate)</text><path d="M278,295.3594 L278,320.3594 L399,320.3594 L399,305.3594 L389,295.3594 L278,295.3594 " fill="#FBFB77" filter="url(#f1eul7uds4q5hg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M389,295.3594 L389,305.3594 L399,305.3594 L389,295.3594 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="284" y="312.4263">different server</text><polygon fill="#A80036" points="165,346.625,155,350.625,165,354.625,161,350.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="159" x2="272" y1="350.625" y2="350.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="171" y="345.5591">object</text><polygon fill="#A80036" points="69,375.7578,59,379.7578,69,383.7578,65,379.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="153" y1="379.7578" y2="379.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="75" y="374.6919">object</text><!--MD5=[1d52c26bc9f84bf24a0c52e4a9018479]
@startuml
participant "Browser" as browser
participant "CN" as cn
participant "Metacat" as metacat
participant "Portal" as portal
participant "CILogon" as cilogon
group login
portal -> cilogon: get certificate
portal <- cilogon: certificate
portal -> browser: cookie
end
group https://cn-dev.dataone.org/cn/v1/object/blah
browser -> cn: get(cookie)
cn - -> portal: get certificate (cookie)
note right
   same server
end note
cn <- - portal: certificate
cn -> metacat: get(certificate)
note right
   different server
end note
cn <- metacat: object
browser <- cn: object
end
@enduml

PlantUML version 1.2020.21beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>