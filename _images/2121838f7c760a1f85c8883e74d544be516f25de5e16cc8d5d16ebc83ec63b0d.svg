<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="424px" preserveAspectRatio="none" style="width:758px;height:424px;" version="1.1" viewBox="0 0 758 424" width="758px" zoomAndPan="magnify"><defs><filter height="300%" id="f858szfm13qkr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f858szfm13qkr)" height="259.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228" y="87.7266"/><rect fill="#FFFFFF" filter="url(#f858szfm13qkr)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="441" x="138.5" y="214.2578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="56.5938" y2="364.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="232.5" x2="232.5" y1="56.5938" y2="364.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="484.5" x2="484.5" y1="56.5938" y2="364.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="663.5" x2="663.5" y1="56.5938" y2="364.9219"/><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="112" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="12" y="24.9951">«Application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="39.5" y="41.292">Client</text><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="112" x="5" y="363.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="12" y="383.917">«Application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="39.5" y="400.2139">Client</text><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="148.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="155.5" y="24.9951">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="196.5" y="41.292">Query API</text><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="148.5" y="363.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="155.5" y="383.917">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="196.5" y="400.2139">Query API</text><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="400.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="407.5" y="24.9951">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="415.5" y="41.292">Authentication API</text><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="400.5" y="363.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="407.5" y="383.917">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="415.5" y="400.2139">Authentication API</text><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="579.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="586.5" y="24.9951">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="630.5" y="41.292">Read API</text><rect fill="#FEFECE" filter="url(#f858szfm13qkr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="165" x="579.5" y="363.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="151" x="586.5" y="383.917">«Coordinating Node»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="630.5" y="400.2139">Read API</text><rect fill="#FFFFFF" filter="url(#f858szfm13qkr)" height="259.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228" y="87.7266"/><polygon fill="#A80036" points="216,83.7266,226,87.7266,216,91.7266,220,87.7266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="222" y1="87.7266" y2="87.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="70" y="82.6606">search(session, query)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="238" x2="280" y1="116.8594" y2="116.8594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="280" x2="280" y1="116.8594" y2="129.8594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="239" x2="280" y1="129.8594" y2="129.8594"/><polygon fill="#A80036" points="249,125.8594,239,129.8594,249,133.8594,245,129.8594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="245" y="111.7935">search -&gt; objectList</text><path d="M243,142.8594 L243,197.8594 L504,197.8594 L504,152.8594 L494,142.8594 L243,142.8594 " fill="#FBFB77" filter="url(#f858szfm13qkr)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M494,142.8594 L494,152.8594 L504,152.8594 L494,142.8594 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="249" y="159.9263">The query response is a list of PIDs.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="249" y="175.0591">Each ID needs to be checked for read</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="249" y="190.1919">access by the authenticated user.</text><path d="M138.5,214.2578 L216.5,214.2578 L216.5,221.2578 L206.5,231.2578 L138.5,231.2578 L138.5,214.2578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="441" x="138.5" y="214.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="153.5" y="227.3247">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="231.5" y="226.4683">[for pid in objectList]</text><polygon fill="#A80036" points="473,248.5234,483,252.5234,473,256.5234,477,252.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="238" x2="479" y1="252.5234" y2="252.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="245" y="247.4575">isAuthorized(session, pid, OP_GET)</text><polygon fill="#A80036" points="249,277.6563,239,281.6563,249,285.6563,245,281.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="243" x2="484" y1="281.6563" y2="281.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="255" y="276.5903">T or F</text><polygon fill="#A80036" points="652,313.7891,662,317.7891,652,321.7891,656,317.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="238" x2="658" y1="317.7891" y2="317.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="19" x="245" y="312.7231">log</text><polygon fill="#A80036" points="74,342.9219,64,346.9219,74,350.9219,70,346.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68" x2="232" y1="346.9219" y2="346.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="80" y="341.856">objectList</text><!--MD5=[58f1e4e80c3452ebade83d8118d4da8f]
@startuml
participant "Client" as app_client << Application >>
 participant "Query API" as c_query << Coordinating Node >>
 participant "Authentication API" as c_authenticate << Coordinating Node >>
 participant "Read API" as c_crud << Coordinating Node >>
 app_client -> c_query: search(session, query)
 activate c_query
 c_query -> c_query: search -> objectList
 note right of c_query
   The query response is a list of PIDs.
   Each ID needs to be checked for read
   access by the authenticated user.
 end note
   loop for pid in objectList
     c_query -> c_authenticate: isAuthorized(session, pid, OP_GET)
     c_query <- - c_authenticate: T or F
   end
 c_query - -> c_crud: log
 app_client <- - c_query: objectList
 deactivate c_query
@enduml

PlantUML version 1.2020.21beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>