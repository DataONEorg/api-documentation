
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Logging Schema &#8212; v2.2.2</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dataone.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/mathjax_pre.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script src="../_static/sidebar.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Log Aggregation Overview" href="LogAggregator.html" />
    <link rel="prev" title="Event Logging and Reporting" href="logging.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="../_static/small_dataone.css" type= "text/css" rel="stylesheet" />

  </head><body>
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="LogAggregator.html" title="Log Aggregation Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="logging.html" title="Event Logging and Reporting"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html"></a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="logging.html" accesskey="U">Event Logging and Reporting</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Logging Schema</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="module-LoggingSchema"></span><div class="section" id="logging-schema">
<h1>Logging Schema<a class="headerlink" href="#logging-schema" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>See subversion log for revision information: <a class="reference external" href="https://redmine.dataone.org/projects/d1/repository/changes/documents/Projects/cicore/architecture/api-documentation/source/design/logging.txt">https://redmine.dataone.org/projects/d1/repository/changes/documents/Projects/cicore/architecture/api-documentation/source/design/logging.txt</a></p>
</div></blockquote>
<p>This schema for logging documents specifies the information returned by DataONE
when requests for logs have been made from either Coordinating Nodes or Member
Nodes. The log information is maintained dynamically by both the Coordinating
Nodes and Member Nodes whenever a significant event occurs for a tracked object
in the system. Tracked objects include all data objects and science metadata
objects in the system. Events of significance include the insertion, update,
deletion, or reading of these objects.</p>
<p>Log data are considered operational information needed to run DataONE, and can
be read by all Coordinating Nodes in the course of service provision. In order
to reduce issues with third-party tracking of data status information, users can
read log information for an object if they have the access rights to read the
corresponding object on which the event was logged.</p>
<p>The following list of fields represents the set of information returned upon a
request for logging.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text"><strong>Table 1.</strong> Quick reference to the Logging fields described in
 more detail below.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 29%" />
<col style="width: 46%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Group</p></th>
<th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Cardinality</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Log</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><a class="reference internal" href="#LoggingSchema.entryId" title="LoggingSchema.entryId"><code class="xref py py-attr docutils literal notranslate"><span class="pre">entryId</span></code></a></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.IdentifierType</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><a class="reference internal" href="#LoggingSchema.identifier" title="LoggingSchema.identifier"><code class="xref py py-attr docutils literal notranslate"><span class="pre">identifier</span></code></a></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.IdentifierType</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><a class="reference internal" href="#LoggingSchema.ipAddress" title="LoggingSchema.ipAddress"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ipAddress</span></code></a></p></td>
<td><p>String</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><a class="reference internal" href="#LoggingSchema.userAgent" title="LoggingSchema.userAgent"><code class="xref py py-attr docutils literal notranslate"><span class="pre">userAgent</span></code></a></p></td>
<td><p>String</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><a class="reference internal" href="Authorization.html#principal" title="principal"><code class="xref py py-attr docutils literal notranslate"><span class="pre">principal</span></code></a></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.PrincipalType</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><a class="reference internal" href="#LoggingSchema.event" title="LoggingSchema.event"><code class="xref py py-attr docutils literal notranslate"><span class="pre">event</span></code></a></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.EventType</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><a class="reference internal" href="#LoggingSchema.logDate" title="LoggingSchema.logDate"><code class="xref py py-attr docutils literal notranslate"><span class="pre">logDate</span></code></a></p></td>
<td><p><a class="reference internal" href="../apis/Types11.html#Types.DateTime" title="Types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.DateTime</span></code></a></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><a class="reference internal" href="#LoggingSchema.memberNode" title="LoggingSchema.memberNode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">memberNode</span></code></a></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.NodeReferenceType</span></code></p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<div class="section" id="logging-fields">
<h2>Logging fields<a class="headerlink" href="#logging-fields" title="Permalink to this headline">¶</a></h2>
<dl class="py attribute">
<dt id="LoggingSchema.entryId">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">entryId</code><a class="headerlink" href="#LoggingSchema.entryId" title="Permalink to this definition">¶</a></dt>
<dd><p>The identifier of a particular log record, used to differentiate it from
other log records on the same objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.IdentifierType</span></code></p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="LoggingSchema.identifier">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">identifier</code><a class="headerlink" href="#LoggingSchema.identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>The identifier of the object on which a logged event occurred.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.IdentifierType</span></code></p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="LoggingSchema.logDate">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">logDate</code><a class="headerlink" href="#LoggingSchema.logDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Date and time (UTC) that the event was logged in the DataONE system.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p><a class="reference internal" href="../apis/Types11.html#Types.DateTime" title="Types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.DateTime</span></code></a>, an ISO 8601 Date-time value in UTC</p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="LoggingSchema.ipAddress">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">ipAddress</code><a class="headerlink" href="#LoggingSchema.ipAddress" title="Permalink to this definition">¶</a></dt>
<dd><p>The InternetProtocol address from which an originating event request
originated.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p>String Internet IP address in either IP4 or IP6 syntax</p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="LoggingSchema.userAgent">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">userAgent</code><a class="headerlink" href="#LoggingSchema.userAgent" title="Permalink to this definition">¶</a></dt>
<dd><p>A string indicating the type of client software agent that was used by the
user to connect to the service and originate the logged event.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p>Any string value signifying a user software agent and its version.</p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="LoggingSchema.event">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">event</code><a class="headerlink" href="#LoggingSchema.event" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of event that was logged, such as an object insertion or
deletion.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.EventType</span></code></p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="LoggingSchema.principal">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">principal</code><a class="headerlink" href="#LoggingSchema.principal" title="Permalink to this definition">¶</a></dt>
<dd><p>Principal who generated the event through a request to the node. If the
event was recorded without identifying the principal, then the principal
will be recorded as ‘public’.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.PrincipalType</span></code></p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="LoggingSchema.memberNode">
<code class="sig-prename descclassname">LoggingSchema.</code><code class="sig-name descname">memberNode</code><a class="headerlink" href="#LoggingSchema.memberNode" title="Permalink to this definition">¶</a></dt>
<dd><p>The Member Node Identifier of the node on which this logged event
occurred. This field is used to distinguish log records that occur at the
same time on different Member Nodes, such as simultaneous downloads.</p>
<dl class="field-list simple">
<dt class="field-odd">Cardinality</dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">ValueSpace</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Types.NodeReferenceType</span></code></p>
</dd>
<dt class="field-odd">Generated By</dt>
<dd class="field-odd"><p>Node</p>
</dd>
<dt class="field-even">Required Version</dt>
<dd class="field-even"><p>0.3</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <p class="logo"><a href="/">
      <img class="logo" src="../_static/dataone_logo.png" alt="Logo"/>
    </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Logging Schema</a><ul>
<li><a class="reference internal" href="#logging-fields">Logging fields</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation Overview</a><ul>
  <li><a href="logging.html">Event Logging and Reporting</a><ul>
      <li>Previous: <a href="logging.html" title="previous chapter">Event Logging and Reporting</a></li>
      <li>Next: <a href="LogAggregator.html" title="next chapter">Log Aggregation Overview</a></li>
  </ul></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/design/LoggingSchema.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      <div id="copyright">
      &copy; Copyright <a href="http://www.dataone.org">2009-2019, DataONE</a>.
        [ <a href="../_sources/design/LoggingSchema.txt"
               rel="nofollow">Page Source</a> |
          <a href='https://redmine.dataone.org/projects/d1/repository/changes/documents/Projects/cicore/architecture/api-documentation/source/design/LoggingSchema.txt'
            rel="nofollow">Revision History</a> ]&nbsp;&nbsp;
      </div>
      <div id="acknowledgement">
        <p>This material is based upon work supported by the National Science Foundation
          under Grant Numbers <a href="http://www.nsf.gov/awardsearch/showAward?AWD_ID=0830944">083094</a> and <a href="http://www.nsf.gov/awardsearch/showAward?AWD_ID=1430508">1430508</a>.</p>
        <p>Any opinions, findings, and conclusions or recommendations expressed in this
           material are those of the author(s) and do not necessarily reflect the views
           of the National Science Foundation.</p>
      </div>
    </div>
    <!--
    <hr />
     <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">HTML Comment Box</a> is loading comments...</div>
     <link rel="stylesheet" type="text/css" href="_static/skin.css" />
     <script type="text/javascript" language="javascript" id="hcb">
     /*<! -*/
     (function()
     {s=document.createElement("script");
     s.setAttribute("type","text/javascript");
     s.setAttribute("src", "http://www.htmlcommentbox.com/jread?page="+escape((typeof hcb_user !== "undefined" && hcb_user.PAGE)||(""+window.location)).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24Gg8J5iYSHJWwAJtlYu/yU."+"&opts=21407&num=10");
     if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})();
      /* ->*/
     </script>
   -->
  </body>
</html>