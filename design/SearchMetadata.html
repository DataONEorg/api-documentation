
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Discovery &#8212; v2.2.2</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dataone.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/mathjax_pre.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script src="../_static/sidebar.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Search Metadata Elements Extracted from EML" href="SearchMetadata_eml.html" />
    <link rel="prev" title="Identifiers in DataONE" href="PIDs.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="../_static/small_dataone.css" type= "text/css" rel="stylesheet" />

  </head><body>
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="SearchMetadata_eml.html" title="Search Metadata Elements Extracted from EML"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="PIDs.html" title="Identifiers in DataONE"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html"></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Content Discovery</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-SearchMetadata">
<span id="content-discovery"></span><h1><a class="toc-backref" href="#id3">Content Discovery</a><a class="headerlink" href="#module-SearchMetadata" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-SearchMetadata" id="id3">Content Discovery</a></p>
<ul>
<li><p><a class="reference internal" href="#querying-the-solr-index" id="id4">Querying the SOLR Index</a></p></li>
<li><p><a class="reference internal" href="#system-metadata-index-properties" id="id5">System Metadata Index Properties</a></p>
<ul>
<li><p><a class="reference internal" href="#populating-permission-fields" id="id6">Populating Permission Fields</a></p></li>
<li><p><a class="reference internal" href="#example-queries" id="id7">Example Queries</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#properties-of-the-index-derived-from-resource-maps" id="id8">Properties of the Index Derived from Resource Maps</a></p>
<ul>
<li><p><a class="reference internal" href="#populating-object-relation-fields" id="id9">Populating Object Relation Fields</a></p>
<ul>
<li><p><a class="reference internal" href="#adding-package-1" id="id10">Adding Package 1</a></p></li>
<li><p><a class="reference internal" href="#adding-package-2" id="id11">Adding Package 2</a></p></li>
<li><p><a class="reference internal" href="#adding-package-3" id="id12">Adding Package 3</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#limitations-of-multi-valued-fields-in-solr" id="id13">Limitations of Multi-Valued Fields in SOLR</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#values-extracted-from-science-metadata" id="id14">Values Extracted from Science Metadata</a></p></li>
<li><p><a class="reference internal" href="#date-representations-in-science-metadata-documents" id="id15">Date Representations in Science Metadata Documents</a></p></li>
<li><p><a class="reference internal" href="#science-metadata-examples" id="id16">Science metadata examples</a></p></li>
<li><p><a class="reference internal" href="#standard-specific-metadata-extraction-notes" id="id17">Standard Specific Metadata Extraction Notes</a></p></li>
<li><p><a class="reference internal" href="#attribute-descriptions-and-notes" id="id18">Attribute Descriptions and Notes</a></p></li>
<li><p><a class="reference internal" href="#creating-citations-from-index-fields" id="id19">Creating Citations from Index Fields</a></p></li>
</ul>
</li>
</ul>
</div>
<p>Searching for content is a functionality that is primarily supported by
Coordinating Nodes, programmatically through the CN_read.search method, and
through a web browser interface that connects through a user interface
implemented by <a class="reference external" href="http://mercury.ornl.gov/">Mercury</a> which utilizes a <a class="reference external" href="http://lucene.apache.org/solr/">SOLR</a> index to support search
operations.</p>
<p>This document describes the properties of the SOLR index, how it is populated,
and how it can be used to support programmatic search and introspection into the
DataONE holdings.</p>
<p>The SOLR index is populated from content that is copied to Coordinating Nodes,
that is <a class="reference internal" href="../glossary.html#term-System-Metadata"><span class="xref std std-term">System Metadata</span></a>, <a class="reference internal" href="../glossary.html#term-science-metadata"><span class="xref std std-term">Science Metadata</span></a> and <a class="reference internal" href="../glossary.html#term-resource-maps"><span class="xref std std-term">Resource
Maps</span></a>. Each index entry represents information about the information referenced
by a single identifier (PID). For PIDs that refer to science data objects the
index entry will be constructed from system metadata and zero or more resource
maps that reference the object. If a PID identifies a science metadata object,
the index entry will have fields populated with content extracted from the
system metadata for the object, the science metadata document and zero or more
resource maps that reference the science metadata. Similarly, if the PID
identifies a resource map, then the index entry fields for that PID will be
populated by the System Metadata and resource map values for that PID.</p>
<p>The general sequence for indexing content is illustrated in Figure 1 below.</p>
<p>The general process of indexing content involves retrieving a System Metadata
document, parsing system metadata properties such as permission rules to
generate a SOLR index document, then optionally adding to the document if the
PID refers to a science metadata or resource map object. The general sequence
of operations is outlined in Figure 1. If the PID refers to a resource map,
then it is necessary to update the <code class="xref py py-attr docutils literal notranslate"><span class="pre">documents</span></code> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">isDocumentedBy</span></code> properties of the Science Metadata and
data objects that appear in the data package defined by the Resource Map.</p>
<img alt="../_images/7c80f112dbe31d6f92902ab2830a8af0a5ac427e8cbf2083676a0db6e8b1448d.svg" class="align-center" src="../_images/7c80f112dbe31d6f92902ab2830a8af0a5ac427e8cbf2083676a0db6e8b1448d.svg" /><p><strong>Figure 1.</strong></p>
<p>A full list of index fields is provided in Table 4 below.</p>
<div class="section" id="querying-the-solr-index">
<h2><a class="toc-backref" href="#id4">Querying the SOLR Index</a><a class="headerlink" href="#querying-the-solr-index" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://wiki.apache.org/solr/SolrQuerySyntax">SOLR query syntax</a> is based on the <a class="reference external" href="http://lucene.apache.org/java/2_9_1/queryparsersyntax.html">Lucene query syntax</a> and adds a
couple of extensions. The SOLR search index is exposed directly as a SOLR search
service with the base url of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">(</span><span class="n">s</span><span class="p">):</span><span class="o">//</span><span class="n">server</span><span class="o">.</span><span class="n">name</span><span class="o">/</span><span class="n">solr</span><span class="o">/</span>
</pre></div>
</div>
</div>
<div class="section" id="system-metadata-index-properties">
<h2><a class="toc-backref" href="#id5">System Metadata Index Properties</a><a class="headerlink" href="#system-metadata-index-properties" title="Permalink to this headline">¶</a></h2>
<p>The main goals for indexing system metadata include:</p>
<ol class="arabic simple">
<li><p>Support access control rules for search results</p></li>
<li><p>Support efficient discovery of objects by their properties</p></li>
</ol>
<p>Table 1 provides a list of SOLR attributes that are populated by values taken
from System Metadata.</p>
<p><strong>Table 1.</strong> Elements derived from System Metadata and available for all
objects. “Multi” fields may be populated with more than a single value per
document (PID) indexed.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">System</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 13%" />
<col style="width: 6%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Multi?</p></th>
<th class="head"><p>Content Origin</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'SOLR'</span></code></p></td>
<td><p>‘FieldType’</p></td>
<td><p>‘Multi’</p></td>
<td><p>‘Reference’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'blockedReplicationMN'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.ReplicationPolicy.blockedMemberNode" title="Types.ReplicationPolicy.blockedMemberNode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.ReplicationPolicy.blockedMemberNode</span></code></a>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'checksum'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.checksum" title="Types.SystemMetadata.checksum"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.checksum</span></code></a>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'checksumAlgorithm'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.Checksum.algorithm</span></code>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'dataUrl'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘Resolve REST URL created from PID’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'datasource'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.originMemberNode" title="Types.SystemMetadata.originMemberNode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.originMemberNode</span></code></a>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'dateUploaded'</span></code></p></td>
<td><p>‘date’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.dateUploaded" title="Types.SystemMetadata.dateUploaded"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.dateUploaded</span></code></a>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'dateModified'</span></code></p></td>
<td><p>‘date’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.dateSysMetadataModified" title="Types.SystemMetadata.dateSysMetadataModified"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.dateSysMetadataModified</span></code></a>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'id'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.identifier" title="Types.SystemMetadata.identifier"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.identifier</span></code></a>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'numberReplicas'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.replicationPolicy.numberReplicas</span></code>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'formatId'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.formatId" title="Types.SystemMetadata.formatId"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.formatId</span></code></a>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'obsoletes'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.obsoletes" title="Types.SystemMetadata.obsoletes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.obsoletes</span></code></a>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'preferredReplicationMN'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.ReplicationPolicy.preferredMemberNode" title="Types.ReplicationPolicy.preferredMemberNode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.ReplicationPolicy.preferredMemberNode</span></code></a>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'replicationAllowed'</span></code></p></td>
<td><p>‘boolean’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.ReplicationPolicy.replicationAllowed" title="Types.ReplicationPolicy.replicationAllowed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.ReplicationPolicy.replicationAllowed</span></code></a>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'rightsHolder'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<code class="xref py py-attr docutils literal notranslate"><span class="pre">SystemMetadata.rightsHolder</span></code>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'size'</span></code></p></td>
<td><p>‘long’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.size" title="Types.SystemMetadata.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.size</span></code></a>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'submitter'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.submitter" title="Types.SystemMetadata.submitter"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.submitter</span></code></a>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'authoritativeMN'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘No’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.SystemMetadata.authoritativeMemberNode" title="Types.SystemMetadata.authoritativeMemberNode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.SystemMetadata.authoritativeMemberNode</span></code></a>’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'replicaMN'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘<code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.Replica.replicationMemberNode</span></code>’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'readPermission'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.AccessRule.subject" title="Types.AccessRule.subject"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.AccessRule.subject</span></code></a> where permission = read’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'writePermission'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.AccessRule.subject" title="Types.AccessRule.subject"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.AccessRule.subject</span></code></a> where permission = write’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">'changePermission'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘<a class="reference internal" href="../apis/Types.html#Types.AccessRule.subject" title="Types.AccessRule.subject"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Types.AccessRule.subject</span></code></a> where permission = changePermission’</p></td>
</tr>
</tbody>
</table>
<div class="section" id="populating-permission-fields">
<h3><a class="toc-backref" href="#id6">Populating Permission Fields</a><a class="headerlink" href="#populating-permission-fields" title="Permalink to this headline">¶</a></h3>
<p>This process is fairly straight forward, and requires simply de-duping entries
so that each of the permission fields contains a distinct list of subjects
granted that permission. If the DataONE <a class="reference internal" href="../glossary.html#term-public-user"><span class="xref std std-term">public user</span></a> is present in the
read permissions, then the <em>isPublic</em> field is set to True.</p>
</div>
<div class="section" id="example-queries">
<h3><a class="toc-backref" href="#id7">Example Queries</a><a class="headerlink" href="#example-queries" title="Permalink to this headline">¶</a></h3>
<p>The following provide some example queries that may be issued directly against
the SOLR index operating on the Coordinating Nodes. Note that search terms must
be properly escaped for the SOLR query syntax, and additionally if submitted
directly as part of a URL, must also be properly URL escaped.</p>
<ol class="arabic">
<li><p>Index entries that match PID (should be at most one match):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">id</span><span class="p">:</span><span class="s2">&quot;PID&quot;</span>
</pre></div>
</div>
<p>where PID = identifier of object being located</p>
</li>
<li><p>Index entries with PID that starts with “some_prefix”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">id</span><span class="p">:</span><span class="s2">&quot;some_prefix*&quot;</span>
</pre></div>
</div>
</li>
<li><p>Index entries that match a particular format id:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">formatId</span><span class="p">:</span><span class="s2">&quot;format_a&quot;</span>
</pre></div>
</div>
<p>where format_a = the formatId being located</p>
</li>
<li><p>Entries with formatId matching “fmtid_1” or “fmtid_2”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">formatId</span><span class="p">:</span><span class="s2">&quot;fmtid_1&quot;</span> <span class="o">||</span> <span class="n">formatId</span><span class="p">:</span><span class="s2">&quot;fmtid_2&quot;</span>
</pre></div>
</div>
</li>
<li><p>Entries with byte size less than or equal to 10000:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">size</span><span class="p">:[</span><span class="o">*</span> <span class="n">TO</span> <span class="mi">10000</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Entries with byte size less than 10000:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">size</span><span class="p">:{</span><span class="o">*</span> <span class="n">TO</span> <span class="mi">10000</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Objects modified before 09:56:04 on 2012-01-03 UTC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datemodified</span><span class="p">:{</span><span class="o">*</span> <span class="n">TO</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span><span class="n">T09</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mf">04.000</span><span class="n">Z</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Objects modified less than 10 minutes ago:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datemodified</span><span class="p">:[</span><span class="n">NOW</span><span class="o">-</span><span class="mi">10</span><span class="n">MINUTE</span> <span class="n">TO</span> <span class="o">*</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Objects of a formatId equal to “format_a” and modified within one day:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">formatId</span><span class="p">:</span><span class="s2">&quot;format_a&quot;</span> <span class="n">AND</span> <span class="n">datemodified</span><span class="p">:[</span><span class="n">NOW</span><span class="o">-</span><span class="mi">1</span><span class="n">DAY</span> <span class="n">TO</span> <span class="o">*</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Metadata associated with data objects of relevance to Photosynthesis:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">photosynthesis</span> <span class="n">AND</span> <span class="n">documents</span><span class="p">:[</span><span class="o">*</span> <span class="n">TO</span> <span class="o">*</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="properties-of-the-index-derived-from-resource-maps">
<h2><a class="toc-backref" href="#id8">Properties of the Index Derived from Resource Maps</a><a class="headerlink" href="#properties-of-the-index-derived-from-resource-maps" title="Permalink to this headline">¶</a></h2>
<p>Table 2 provides a list of SOLR attributes that are populated by values obtained
by parsing resource map objects.</p>
<p><strong>Table 2.</strong> Elements derived from Resource Map documents. “Multi” fields may be
populated with more than a single value per document (PID) indexed.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Resource</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 13%" />
<col style="width: 6%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Multi?</p></th>
<th class="head"><p>Content Origin</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">SearchMetadata.'SOLR'</span></code></p></td>
<td><p>‘FieldType’</p></td>
<td><p>‘Multi’</p></td>
<td><p>‘Reference’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">SearchMetadata.'isDocumentedBy'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘None’</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">SearchMetadata.'documents'</span></code></p></td>
<td><p>‘string’</p></td>
<td><p>‘Yes’</p></td>
<td><p>‘None’</p></td>
</tr>
</tbody>
</table>
<div class="section" id="populating-object-relation-fields">
<h3><a class="toc-backref" href="#id9">Populating Object Relation Fields</a><a class="headerlink" href="#populating-object-relation-fields" title="Permalink to this headline">¶</a></h3>
<p>The fields <em>resourceMap</em>, <em>documents</em>, and <em>isDocumentedBy</em> contain
identifiers of other objects in the DataONE system related to the subject of
the current record. These relationships are recorded in OAI-ORE resource map
documents as described in the section <a class="reference internal" href="DataPackage.html"><span class="doc">Data Packaging</span></a>. Since the values for
these fields are contained in resource maps, it is necessary to build these
fields in progression as additional resource maps are synchronized with the
coordinating nodes.</p>
<p>For each object, a query is issued against the index to retrieve the list of
resource maps in which the object identifier is present, enabling population of
the <em>resourceMaps</em> field for the object. Each of those resource maps is examined
to obtain the list of identifiers for the <em>documents</em> field if the object is
science metadata, and the <em>isDocumentedBy</em> field if the object is data.</p>
<p><strong>Example Sequence for Index Population</strong></p>
<p>The following sequence steps through the generation of index entries for three
data packages, providing an example of how the index entries are updated
depending on relationships between the objects being added.</p>
<div class="section" id="adding-package-1">
<h4><a class="toc-backref" href="#id10">Adding Package 1</a><a class="headerlink" href="#adding-package-1" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>  digraph RM1 {
  graph [rankdir=&quot;LR&quot;, label=&quot;Package 1&quot;];
  A [shape=folder];
  B [shape=note];
  C [shape=oval];
  A -&gt; B;
  A -&gt; C;
}</div></blockquote>
<p>A simple data package with a Resource Map <em>A</em> indicating that the metadata
document <em>B</em> and the data object <em>C</em> together form a data package, and that
<em>B</em> documents <em>C</em> and that <em>C</em> isDocumentedBy <em>B</em>.</p>
<p>Index entries after Package 1 is added.</p>
<blockquote>
<div><table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>PID</p></th>
<th class="head"><p>resourceMaps</p></th>
<th class="head"><p>documents</p></th>
<th class="head"><p>isDocumentedBy</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>A</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>B</p></td>
<td><p>A</p></td>
<td><p>C</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>C</p></td>
<td><p>A</p></td>
<td></td>
<td><p>B</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="adding-package-2">
<h4><a class="toc-backref" href="#id11">Adding Package 2</a><a class="headerlink" href="#adding-package-2" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>  digraph RM1 {
  graph [rankdir=&quot;LR&quot;, label=&quot;Package 2&quot;];
  D [shape=folder];
  B [shape=note];
  E [shape=oval];
  D -&gt; B;
  D -&gt; E;
}</div></blockquote>
<p>A simple data package with a Resource Map <em>D</em> indicating that the metadata
document <em>B</em> and the data object <em>E</em> together form a data package, and that
<em>B</em> documents <em>E</em> and that <em>E</em> isDocumentedBy <em>B</em>. Note that the metadata
document <em>B</em> is also used in Package 1.</p>
<p>Index entries after package 2 is added. New entries and changes to existing
are indicated in <strong>bold</strong>.</p>
<blockquote>
<div><table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>PID</p></th>
<th class="head"><p>resourceMaps</p></th>
<th class="head"><p>documents</p></th>
<th class="head"><p>isDocumentedBy</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>A</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>B</p></td>
<td><p>A, <strong>D</strong></p></td>
<td><p>C, <strong>E</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>C</p></td>
<td><p>A</p></td>
<td></td>
<td><p>B</p></td>
</tr>
<tr class="row-odd"><td><p>D</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>E</p></td>
<td><p><strong>D</strong></p></td>
<td></td>
<td><p><strong>B</strong></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="adding-package-3">
<h4><a class="toc-backref" href="#id12">Adding Package 3</a><a class="headerlink" href="#adding-package-3" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>  digraph RM1 {
  graph [rankdir=&quot;LR&quot;, label=&quot;Package 3&quot;];
  F [shape=folder];
  G [shape=note];
  D [shape=folder];
  F -&gt; G;
  F -&gt; D;
}</div></blockquote>
<p>A data package that references another, already indexed data package
(represented by the Resource Map <em>D</em>) as its data object.</p>
<p>Index entries after package 3 is added. New entries and changes to existing
are indicated in <strong>bold</strong>.</p>
<blockquote>
<div><table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>PID</p></th>
<th class="head"><p>resourceMaps</p></th>
<th class="head"><p>documents</p></th>
<th class="head"><p>isDocumentedBy</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>A</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>B</p></td>
<td><p>A, D</p></td>
<td><p>C, E</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>C</p></td>
<td><p>A</p></td>
<td></td>
<td><p>B</p></td>
</tr>
<tr class="row-odd"><td><p>D</p></td>
<td><p><strong>F</strong></p></td>
<td></td>
<td><p><strong>G</strong></p></td>
</tr>
<tr class="row-even"><td><p>E</p></td>
<td><p>D</p></td>
<td></td>
<td><p>B</p></td>
</tr>
<tr class="row-odd"><td><p>F</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>G</p></td>
<td><p><strong>F</strong></p></td>
<td><p><strong>D</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
<div class="section" id="limitations-of-multi-valued-fields-in-solr">
<h3><a class="toc-backref" href="#id13">Limitations of Multi-Valued Fields in SOLR</a><a class="headerlink" href="#limitations-of-multi-valued-fields-in-solr" title="Permalink to this headline">¶</a></h3>
<p>Multi-valued fields in SOLR have an internal representation that can be
likened to a delimited concatenation of all the values for the field. The
fields have a configurable limit to the maximum field size, and this limit may
be encountered in the various entries such as the permission fields or object
relation fields where a potentially large number of subjects or identifiers
may be stored. Further research has indicated this problem is unlikely since
simply increasing the SOLR <em>maxFieldLength</em> configuration value will enable
larger field content, with examples in the wild of several thousand entries
equivalent to DataONE identifiers in a single field.</p>
</div>
</div>
<div class="section" id="values-extracted-from-science-metadata">
<h2><a class="toc-backref" href="#id14">Values Extracted from Science Metadata</a><a class="headerlink" href="#values-extracted-from-science-metadata" title="Permalink to this headline">¶</a></h2>
<p>Indexing the system metadata entries provides a mechanism for selection of
content using low level attributes of the objects such as the type, size and
relationships, however is not useful for locating content relevant to a
particular topic or purpose. The <a class="reference internal" href="../glossary.html#term-science-metadata"><span class="xref std std-term">science metadata</span></a> contains such
information and the index records associated with these documents contain
additional information described below.</p>
<p>The initial web user interface to DataONE utilizes the <a class="reference external" href="http://mercury.ornl.gov/">Mercury</a> system. This
in turn relies upon a SOLR index to support the search, faceting, and
sub-setting operations that are exposed through Mercury. The underlying SOLR
index is also exposed through as an API, so other clients (such as the file
system driver) can leverage the search capabilities thus provided.</p>
<p>The remainder of this document describes the search properties that are
extracted from the various formats and syntaxes of of science metadata that
are supported by the DataONE indexing system.</p>
<p><strong>Table 3.</strong> Index fields populated from science metadata documents. “Multi”
fields may be populated with more than a single value per document (PID)
indexed.</p>
</div>
<div class="section" id="date-representations-in-science-metadata-documents">
<h2><a class="toc-backref" href="#id15">Date Representations in Science Metadata Documents</a><a class="headerlink" href="#date-representations-in-science-metadata-documents" title="Permalink to this headline">¶</a></h2>
<p>The following are examples of date values extracted from FGDC, ISO-19115, and
EML science metadata documents currently in use. The literal value appearing in
the document and the interpreted date value are shown.</p>
<p>Examples of date values appearing in FGDC <em>&lt;pubdate&gt;</em>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Interpreted Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Unknown</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-odd"><td><p>unknown</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-even"><td><p>Unpublished material</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-odd"><td><p>unpublished material</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-even"><td><p>1993</p></td>
<td><p>1993-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>199607</p></td>
<td><p>1996-07-01 00:00:00Z</p></td>
</tr>
<tr class="row-even"><td><p>20000101</p></td>
<td><p>2000-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>19981231</p></td>
<td><p>1998-12-31 00:00:00Z</p></td>
</tr>
<tr class="row-even"><td><p>196820405</p></td>
<td><p>1968-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>1992 onwards</p></td>
<td><p>1992-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-even"><td><p>1989 and 1990</p></td>
<td><p>1989-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>varies</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-even"><td><p>Present</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-odd"><td><p>1995/1996</p></td>
<td><p>1995-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-even"><td><p>1991-1992</p></td>
<td><p>1991-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>variouis</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-even"><td><p>April 1999</p></td>
<td><p>1999-04-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>1980 on</p></td>
<td><p>1980-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-even"><td><p>2005-06-24</p></td>
<td><p>2005-06-24 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>NA</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-even"><td><p>1990- [unpublished annual reports]</p></td>
<td><p>1990-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>November, 1994</p></td>
<td><p>1994-11-01 00:00:00Z</p></td>
</tr>
</tbody>
</table>
<p>Examples of date values appearing in ISO-19115 <em>&lt;gco:Date&gt;</em>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Interpreted Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1999</p></td>
<td><p>1999-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>2010-03-03</p></td>
<td><p>2010-03-03 00:00:00Z</p></td>
</tr>
</tbody>
</table>
<p>Examples of date values appearing in EML <em>&lt;calendarDate&gt;</em>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Interpreted Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2002-06-20</p></td>
<td><p>2002-06-20 00:00:00Z</p></td>
</tr>
<tr class="row-odd"><td><p>1998</p></td>
<td><p>1998-01-01 00:00:00Z</p></td>
</tr>
<tr class="row-even"><td><p>2004-02-13</p></td>
<td><p>2004-02-13 00:00:00Z</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="science-metadata-examples">
<h2><a class="toc-backref" href="#id16">Science metadata examples</a><a class="headerlink" href="#science-metadata-examples" title="Permalink to this headline">¶</a></h2>
<p>Examples for integration testing:</p>
<blockquote>
<div><p><a class="reference external" href="https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/">https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/</a></p>
</div></blockquote>
<p>FGDC:</p>
<blockquote>
<div><p><a class="reference external" href="http://mercury.ornl.gov/metadata/nbii/xml/nbii/">http://mercury.ornl.gov/metadata/nbii/xml/nbii/</a></p>
</div></blockquote>
<p>ISO 19115:</p>
<blockquote>
<div><p><a class="reference external" href="http://mercury.ornl.gov/metadata/ornldaac/xml/daac/iso/">http://mercury.ornl.gov/metadata/ornldaac/xml/daac/iso/</a></p>
</div></blockquote>
<p>EML:</p>
<blockquote>
<div><p>2.0.0: <a class="reference external" href="https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/eml200/">https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/eml200/</a></p>
<p>2.0.1: <a class="reference external" href="https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/eml201/">https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/eml201/</a></p>
<p>2.1.0: <a class="reference external" href="https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/eml210/">https://repository.dataone.org/software/cicore/trunk/d1_integration/src/test/resources/d1_testdocs/eml210/</a></p>
</div></blockquote>
</div>
<div class="section" id="standard-specific-metadata-extraction-notes">
<h2><a class="toc-backref" href="#id17">Standard Specific Metadata Extraction Notes</a><a class="headerlink" href="#standard-specific-metadata-extraction-notes" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="SearchMetadata_eml.html">Search Metadata Elements Extracted from EML</a></li>
<li class="toctree-l1"><a class="reference internal" href="SearchMetadata_fgdc.html">Search Metadata Elements Extracted from FGDC</a></li>
<li class="toctree-l1"><a class="reference internal" href="SearchMetadata_dryad.html">Search Metadata Elements Extracted from Dryad</a></li>
</ul>
</div>
</div>
<div class="section" id="attribute-descriptions-and-notes">
<h2><a class="toc-backref" href="#id18">Attribute Descriptions and Notes</a><a class="headerlink" href="#attribute-descriptions-and-notes" title="Permalink to this headline">¶</a></h2>
<p>A list of all fields in search index, their origin and brief description. Source
column indicates which DataONE content the values are retrieved from: Y = System
Metadata, S = Science Metadata, R = Resource Map, and C = copied internally by
the search index.</p>
</div>
<hr class="docutils" />
<div class="section" id="creating-citations-from-index-fields">
<h2><a class="toc-backref" href="#id19">Creating Citations from Index Fields</a><a class="headerlink" href="#creating-citations-from-index-fields" title="Permalink to this headline">¶</a></h2>
<p><strong>Table 3.</strong> Cross reference of index fields and elements useful in citation
best practices as exemplified in the <a class="reference external" href="http://wiki.esipfed.org/index.php/Interagency_Data_Stewardship/Citations/provider_guidelines">interagency data stewardship</a> wiki page
of ESIP. * = Mandatory (if applicable). COinS tags provide a mechanism of
embedding <a class="reference external" href="http://www.niso.org/kst/reports/standards/kfile_download?id%3Austring%3Aiso-8859-1=Z39-88-2004.pdf&amp;pt=RkGKiXzW643YeUaYUqZ1BFwDhIG4-24RJbcZBWg8uE4vWdpZsJDs4RjLz0t90_d5_ymGsj_IKVaGZww13HuDlZQ8NBt1sTxP_v4iiGqH7rSaAeVDnMfeKJrrJ_JSEGPB">Z39.88-2004</a> elements in HTML for consumption by citation manager
tools.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Citation Element</p></th>
<th class="head"><p>FGDC CSDGM field</p></th>
<th class="head"><p>DataCite Metadata Scheme ID and Property</p></th>
<th class="head"><p>DataONE Index Field</p></th>
<th class="head"><p><a class="reference external" href="http://ocoins.info/">COinS</a> Tag</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Author or Creator*</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “origin”</p></td>
<td><p>2 Creator*</p></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">author</span></code></p></td>
<td><p>rft.creator</p></td>
</tr>
<tr class="row-odd"><td><p>Release Date*</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “pubdate” and sometimes “othercit”</p></td>
<td><p>5 PublicationYear*</p></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">datePublished</span></code></p></td>
<td><p>rft.date</p></td>
</tr>
<tr class="row-even"><td><p>Title*</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “title” and possibly “edition”</p></td>
<td><p>3 Title*</p></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">title</span></code></p></td>
<td><p>rft.title</p></td>
</tr>
<tr class="row-odd"><td><p>Version*</p></td>
<td></td>
<td><p>15 Version</p></td>
<td><p>See notes below.</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Archive and/or Distributor*</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “publish”</p></td>
<td><p>4 Publisher*</p></td>
<td><p>See notes below.</p></td>
<td><p>rft.publisher</p></td>
</tr>
<tr class="row-odd"><td><p>Locator, Identifier, or Distribution Medium*</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “othercit” or “onlink”</p></td>
<td><p>1 Identifier*</p></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">pid</span></code></p></td>
<td><p>rft.identifier</p></td>
</tr>
<tr class="row-even"><td><p>Access Date and Time*</p></td>
<td><p>not applicable</p></td>
<td><p>8 Date</p></td>
<td><p>perhaps <code class="xref py py-attr docutils literal notranslate"><span class="pre">dateUploaded</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Subset Used</p></td>
<td><p>not applicable</p></td>
<td><p>12 RelatedIdentifier DataCite recommends obtaining an identifier for
any subset that needs to be cited as well as an identifier for the
larger whole.</p></td>
<td><p>perhaps a reference to the resource map?</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Editor or Other Important Role</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “origin”</p></td>
<td><p>7 Contributor</p></td>
<td><p>See notes below.</p></td>
<td><p>rft.source</p></td>
</tr>
<tr class="row-odd"><td><p>Publication Place</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “pubplace”</p></td>
<td><p>17 Description</p></td>
<td><p>See notes below.</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Distributor, Associate Archive, or other Institutional Role</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “othercit”</p></td>
<td><p>7 Contributor or possibly 4 Publisher</p></td>
<td><p>“<a class="reference external" href="http://dataone.org">http://dataone.org</a>”</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Data Within a Larger Work</p></td>
<td><p>idinfo &gt; citation &gt; citeinfo &gt; “othercit” or “lworkcit”</p></td>
<td><p>12 RelatedIdentifier</p></td>
<td><p>perhaps a reference to the resource map?</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">keyWord</span></code></p></td>
<td><p>rft.subject</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">abstract</span></code></p></td>
<td><p>rft.description</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p>object format name, or “data” | “metadata” | “resource map”</p></td>
<td><p>rft.type</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p>object format type</p></td>
<td><p>rft.format</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p>constructed from bounding box</p></td>
<td><p>rft.coverage</p></td>
</tr>
</tbody>
</table>
<p><strong>Notes</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Version</dt>
<dd class="field-odd"><p>There is no clear recommendation on how to express version. For an object
with a linear revision history (A is obsoleted by B is obsoleted by C),
object C might be considered to have a version of “2”. However, it is
possible for an object to have a tree lineage (A1 and A2 are obsoleted by
B1, and B1, A3 and Z are obsoleted by C). A suggestion for a version
indicator in this case may be the total number of parent objects, 5 in this
case. Another option may be to indicate the number of contributing objects
at each revision, 1.1 in the first case, and 2.3 in the second.</p>
</dd>
<dt class="field-even">Publisher</dt>
<dd class="field-even"><p>The publisher in DataONE may in some cases be the origin member node,
however this will not always be the case. For example, many data sets in the
KNB are published by LTER, though KNB would be the member node. Where
possible the publisher information should be pulled from the science
metadata, though this may be complicated where multiple data and metadata
entries occur within a data package and there are several publishers listed.
In this case, a simple concatenation of the publishers (semi-colon + space
delimited) may be sufficient.</p>
</dd>
<dt class="field-odd">Date</dt>
<dd class="field-odd"><p>In the DataCite 2.2 document, a mapping between Date and the dcterms:date is
suggested. The description of dcterms:date is “A point or period of time
associated with an event in the lifecycle of the resource.” In DataONE there
are two main dates related to an object, when the content is added to the
system, and when the properties of the object (access control, and so forth)
are modified. Since the content of the object does not change once submitted
to DataONE, the <code class="xref py py-attr docutils literal notranslate"><span class="pre">SystemMetadata.dateUploaded</span></code> value seems appropriate
here, expressed as <code class="xref py py-attr docutils literal notranslate"><span class="pre">dateUploaded</span></code> in the search index.</p>
</dd>
<dt class="field-even">Subset Used</dt>
<dd class="field-even"><p>DataONE does not provide a mechanism for identifying sets of information
other than through resource maps which describe data packages. It is
possible that a resource map may contain references to additional resource
maps, conceptually equivalent to subsets of content. The simplest option
here would be to use the identifier of the resource map object describing
the package in question.</p>
</dd>
<dt class="field-odd">Contributor</dt>
<dd class="field-odd"><p>Described in DataCite 2.2 as “The institution or person responsible for
collecting, creating, or otherwise contributing to the development of the
dataset”, this optional element can be populated by the citeinfo/origin
element from FGDC.</p>
</dd>
<dt class="field-even">Publication Place</dt>
<dd class="field-even"><p>In CSDGM, “the name of the city (and state or province, and country, if
needed to identify the city) where the data set was published or released”.</p>
</dd>
<dt class="field-odd">Data Within a Larger Work</dt>
<dd class="field-odd"><p>This is similar to the “Subset Used” entry except in the other direction of
containment. The identifier of the containing resource map relevant to the
current package should be used.</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <p class="logo"><a href="/">
      <img class="logo" src="../_static/dataone_logo.png" alt="Logo"/>
    </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Content Discovery</a><ul>
<li><a class="reference internal" href="#querying-the-solr-index">Querying the SOLR Index</a></li>
<li><a class="reference internal" href="#system-metadata-index-properties">System Metadata Index Properties</a><ul>
<li><a class="reference internal" href="#populating-permission-fields">Populating Permission Fields</a></li>
<li><a class="reference internal" href="#example-queries">Example Queries</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties-of-the-index-derived-from-resource-maps">Properties of the Index Derived from Resource Maps</a><ul>
<li><a class="reference internal" href="#populating-object-relation-fields">Populating Object Relation Fields</a><ul>
<li><a class="reference internal" href="#adding-package-1">Adding Package 1</a></li>
<li><a class="reference internal" href="#adding-package-2">Adding Package 2</a></li>
<li><a class="reference internal" href="#adding-package-3">Adding Package 3</a></li>
</ul>
</li>
<li><a class="reference internal" href="#limitations-of-multi-valued-fields-in-solr">Limitations of Multi-Valued Fields in SOLR</a></li>
</ul>
</li>
<li><a class="reference internal" href="#values-extracted-from-science-metadata">Values Extracted from Science Metadata</a></li>
<li><a class="reference internal" href="#date-representations-in-science-metadata-documents">Date Representations in Science Metadata Documents</a></li>
<li><a class="reference internal" href="#science-metadata-examples">Science metadata examples</a></li>
<li><a class="reference internal" href="#standard-specific-metadata-extraction-notes">Standard Specific Metadata Extraction Notes</a></li>
<li><a class="reference internal" href="#attribute-descriptions-and-notes">Attribute Descriptions and Notes</a></li>
<li><a class="reference internal" href="#creating-citations-from-index-fields">Creating Citations from Index Fields</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation Overview</a><ul>
      <li>Previous: <a href="PIDs.html" title="previous chapter">Identifiers in DataONE</a></li>
      <li>Next: <a href="SearchMetadata_eml.html" title="next chapter">Search Metadata Elements Extracted from EML</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/design/SearchMetadata.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      <div id="copyright">
      &copy; Copyright <a href="http://www.dataone.org">2009-2019, DataONE</a>.
        [ <a href="../_sources/design/SearchMetadata.txt"
               rel="nofollow">Page Source</a> |
          <a href='https://redmine.dataone.org/projects/d1/repository/changes/documents/Projects/cicore/architecture/api-documentation/source/design/SearchMetadata.txt'
            rel="nofollow">Revision History</a> ]&nbsp;&nbsp;
      </div>
      <div id="acknowledgement">
        <p>This material is based upon work supported by the National Science Foundation
          under Grant Numbers <a href="http://www.nsf.gov/awardsearch/showAward?AWD_ID=0830944">083094</a> and <a href="http://www.nsf.gov/awardsearch/showAward?AWD_ID=1430508">1430508</a>.</p>
        <p>Any opinions, findings, and conclusions or recommendations expressed in this
           material are those of the author(s) and do not necessarily reflect the views
           of the National Science Foundation.</p>
      </div>
    </div>
    <!--
    <hr />
     <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">HTML Comment Box</a> is loading comments...</div>
     <link rel="stylesheet" type="text/css" href="_static/skin.css" />
     <script type="text/javascript" language="javascript" id="hcb">
     /*<! -*/
     (function()
     {s=document.createElement("script");
     s.setAttribute("type","text/javascript");
     s.setAttribute("src", "http://www.htmlcommentbox.com/jread?page="+escape((typeof hcb_user !== "undefined" && hcb_user.PAGE)||(""+window.location)).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24Gg8J5iYSHJWwAJtlYu/yU."+"&opts=21407&num=10");
     if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})();
      /* ->*/
     </script>
   -->
  </body>
</html>